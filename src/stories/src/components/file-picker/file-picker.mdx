import { Default as FilePickerDemo } from './file-picker.stories';
import { FilePickerDefaultCodeHtml, FilePickerDefaultCodeTs } from './code/file-picker-default';
import { FilePickerCompactCodeHtml, FilePickerCompactCodeTs } from './code/file-picker-compact';

<PageSection>

# File picker

The file-picker component allows for a user to upload files of their own to the system. The component provides a slot for a button, as
well as drag-and-drop functionality to launch the system file chooser dialog. There are visual queues to let the user know
when files they are dragging can be dropped, as well as events that are relayed to the developer to handle files that are
legal and/or illegal based on the parameters set on the component.

The expectation of this component is that it will be used as a familiar element on the page that will let users upload
files, while providing that visual and functional consistency.

> This component does not display the files the user is attempting to upload. **To see examples of how this is implemented,
> check out our [file picker recipes page](https://forge.tylertech.com/recipes/file-picker).

</PageSection>

---

<PageSection>

## Example

### Default

<LiveDemo codeHtml={FilePickerDefaultCodeHtml()} codeTs={FilePickerDefaultCodeTs()}>
  <FilePickerDemo hasHelperText />
</LiveDemo>

### Compact

<LiveDemo codeHtml={FilePickerCompactCodeHtml()} codeTs={FilePickerCompactCodeTs()}>
  <FilePickerDemo compact borderless />
</LiveDemo>

</PageSection>

<PageSection>

## Properties/Attributes

<PropertyDef name="accept" type="string | null" defaultValue="null">

Gets/sets the allowed file types.

</PropertyDef>

<PropertyDef name="maxSize" type="string | null" defaultValue="null">

Gets/sets the maximum allowed file size.

</PropertyDef>

<PropertyDef name="capture" type="string | null" defaultValue="null">

Gets/sets the camera to use when capturing video or images.

</PropertyDef>

<PropertyDef name="multiple" type="boolean" defaultValue="false">

Gets/sets whether multiple files are allowed.

</PropertyDef>

<PropertyDef name="disabled" type="boolean" defaultValue="false">

Gets/sets whether the file picker is disabled.

</PropertyDef>

<PropertyDef name="compact" type="boolean" defaultValue="false">

Gets/sets whether the file picker uses the compact variant.

</PropertyDef>

<PropertyDef name="borderless" type="boolean" defaultValue="false">

Gets and sets whether the file picker is borderless.

</PropertyDef>

</PageSection>

<PageSection>

## Slots

| Name               | Description
| :------------------| :-----------------
| `primary`          | Render content above the button in the file picker.
| `button-slot`      | Render a button for the file picker.
| `secondary`        | Render content below the button in the file picker.
| `helper-text`      | Render content at the bottom of the file picker.

</PageSection>

<PageSection>

## Events

| Name                               | Description
| :----------------------------------| :----------------
| `forge-file-picker-change`           | Emits when files are either chose from the system dialog, or when a drag-and-drop action is initiated. The type will be `CustomEvent<IFilePickerChangeEventData>`.

</PageSection>

<PageSection>

## CSS parts

| Name                                 | Description
| :------------------------------------| :-----------------------
| `form`                               | The `<form>` element at the root.
| `primary`                            | The container element around the `primary` slot.
| `secondary`                          | The container element around the `secondary` slot.
| `input`                              | The `<input type="file">` element.
| `helper-text-container`              | The container around the `helper-text` slot.

</PageSection>

<PageSection>

## CSS custom properties

| Name                                                | Description
| :---------------------------------------------------| :-----------------------
| `--mdc-theme-primary`                               | Controls the primary color of the default variant.
| `--mdc-theme-background`                            | Controls the background color of the default variant.
| `--forge-theme-border-color`                        | Controls the border color of the default variant.
| `--mdc-theme-text-primary-on-background`            | Controls the primary typography title.
| `--forge-file-picker-height`                        | Controls the height of the default variant container.
| `--forge-file-picker-width`                         | Controls the width of the default variant container.
| `--forge-file-picker-max-content-width`             | Controls the max width of the content.

</PageSection>

<PageSection>

## Accessibility

- The file-picker button should have text or a label that accurately describes the action of the button.
- After the system file picker dialog closes, focus should remain on the element that triggered the action.
- Always use `type="button"` on the `<button>` element to ensure that any parent forms are not submitted when clicking the button.

</PageSection>

---

<PageSection>

## Types

```ts
interface IFilePickerChangeEventData {
  legalFiles?: File[];
  illegalFiles?: File[];
}
```

</PageSection>
