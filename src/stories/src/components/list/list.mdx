import { Default as ListDemo, Expandable as ExpandableDemo } from './list.stories';
import { DrawerDemo } from './demos/drawer';
import { ListDefaultCodeHtml } from './code/list-default';
import { ListTwoLineCodeHtml } from './code/list-two-line';
import { ListLeadingIconCodeHtml } from './code/list-leading-icon';
import { ListTrailingIconCodeHtml } from './code/list-trailing-icon';
import { ListLeadingAvatarCodeHtml } from './code/list-leading-avatar';
import { ListTrailingCheckboxCodeHtml } from './code/list-trailing-checkbox';
import { ListTrailingRadioButtonCodeHtml } from './code/list-trailing-radio-button';
import { ListExpandableCodeHtml } from './code/list-expandable';
import { ListDrawerCodeHtml } from './code/list-drawer';

<PageSection>

# List

The list component allows for a structured way of displaying content in a consistent fashion. The content placed within a list is flexible, but where that
content is rendered is handled by the component in the form of [slots](#slots).

There are also many options available through the public API, as well as events that can be listened for to know when items are selected for instance.

The list offers a few different built-in variants:

* Single-line
* Two-line
* Three-line
* Static

Choose the one that fits closest to your needs, and keep in mind that you can adjust certain styles via [CSS custom properties](#css-custom-properties).

> A common use case is to use a list within the [drawer component](?path=/story/components-drawer--drawer) to create a side navigation drawer. See
> the [List Drawer](?path=/story/components-banner--drawer) example below for implementation details on this pattern.

</PageSection>

---

<PageSection>

## Example

### Default

<LiveDemo layout="column" fullWidth codeHtml={ListDefaultCodeHtml()}>
  <ListDemo />
</LiveDemo>

### Two-Line

<LiveDemo layout="column" fullWidth codeHtml={ListTwoLineCodeHtml()}>
  <ListDemo listStyle="two-line" />
</LiveDemo>

### Leading Icon

<LiveDemo layout="column" fullWidth codeHtml={ListLeadingIconCodeHtml()}>
  <ListDemo leadingSlot="icon" />
</LiveDemo>

### Trailing Icon

<LiveDemo layout="column" fullWidth codeHtml={ListTrailingIconCodeHtml()}>
  <ListDemo trailingSlot="icon" />
</LiveDemo>

### Leading Avatar

<LiveDemo layout="column" fullWidth codeHtml={ListLeadingAvatarCodeHtml()}>
  <ListDemo leadingSlot="avatar" listStyle="two-line" />
</LiveDemo>

### Trailing Checkbox

<LiveDemo layout="column" fullWidth codeHtml={ListTrailingCheckboxCodeHtml()}>
  <ListDemo trailingSlot="checkbox" />
</LiveDemo>

### Trailing Radio Button

<LiveDemo layout="column" fullWidth codeHtml={ListTrailingRadioButtonCodeHtml()}>
  <ListDemo trailingSlot="radio-button" />
</LiveDemo>

### Expandable List Items

<LiveDemo layout="column" fullWidth codeHtml={ListExpandableCodeHtml()}>
  <ExpandableDemo />
</LiveDemo>

### Drawer

<LiveDemo layout="column" fullWidth codeHtml={ListDrawerCodeHtml()}>
  <DrawerDemo />
</LiveDemo>

> **Note:** if you need to disable the default styling of list items when placed within a drawer, you can add the `forge-drawer-context="false"` attribute
> to all `<forge-list-item>` elements.

</PageSection>

<PageSection>

## List Properties/Attributes

<PropertyDef name="static" type="boolean" defaultValue="false">

Sets the list to be static, meaning the list items are non-interactive.
  
</PropertyDef>

<PropertyDef name="dense" type="boolean" defaultValue="false">

Controls whether all list-items are dense or not.
  
</PropertyDef>

<PropertyDef name="selectedValue" type="any | any[]" defaultValue="null">

Sets the selected value(s) of the list.

> **Important:** the data type for the `value` property that you set on the `<forge-list-item>` element must match the data type you use
> for setting the selected value on the list.

</PropertyDef>
  
<PropertyDef name="indented" type="boolean" defaultValue="false">

Controls whether all child list-items are indented or not.
  
</PropertyDef>
  
<PropertyDef name="propagateClick" type="boolean" defaultValue="true">

Gets/sets whether the list items allow mousedown events through to their underlying list item elements.

Turn this off if you don't want the default behavior of clicking a list item to execute. 
  
</PropertyDef>

</PageSection>

---

<PageSection>

## List Item Properties/Attributes

<PropertyDef name="static" type="boolean" defaultValue="false">

Sets the list item to be static, meaning it is non-interactive.
  
</PropertyDef>

<PropertyDef name="twoLine" type="boolean" defaultValue="false">

Sets the height of this list item to accommodate two lines of text.
  
</PropertyDef>

<PropertyDef name="threeLine" type="boolean" defaultValue="false">

Sets the height of this list item to accommodate three lines of text.
  
</PropertyDef>

<PropertyDef name="active" type="boolean" defaultValue="false">

Controls the active state of the list item. This state highlights a list item without focusing it.
  
</PropertyDef>

<PropertyDef name="selected" type="boolean" defaultValue="false">

Controls the selected state of the list item.
  
</PropertyDef>

<PropertyDef name="value" type="any" defaultValue="false">

Unique list item value. When selected, the list item will emit an event containing this value.

> Pay attention to the data type used for this. If specified via HTML attribute, the type will always be a `string`.
  
</PropertyDef>

<PropertyDef name="href" type="string" defaultValue="undefined">

Gets/sets the URL that the browser will navigate to when clicked. This simulates an anchor tag.
  
</PropertyDef>

<PropertyDef name="target" type="string" defaultValue="undefined">

Sets the window target when navigating to the provided `href` URL using the same API as an anchor tag. Only pertains when the `href` value is provided.
  
</PropertyDef>

<PropertyDef name="ripple" type="boolean" defaultValue="true">

Controls the existence of the ripple effect.
  
</PropertyDef>

<PropertyDef name="dense" type="boolean" defaultValue="false">

Controls whether the list item is dense or not.
  
</PropertyDef>

<PropertyDef name="disabled" type="boolean" defaultValue="false">

Controls the disabled state.
  
</PropertyDef>

<PropertyDef name="propagateClick" type="boolean" defaultValue="true">

Gets/sets whether the list item allows mousedown events through to the underlying list item element.
  
</PropertyDef>

<PropertyDef name="indented" type="boolean" defaultValue="false">

Sets the list item to be indented.
  
</PropertyDef>

<PropertyDef name="wrap" type="boolean" defaultValue="null">

Gets/sets whether the list item content is wrapped or not.
  
</PropertyDef>

> You can use the attribute `forge-ignore` on elements internal to the list-item in order to prevent user interactions with that element from changing the list-item's selected state.
> For example, while not generally recommended, this would allow you to place a checkbox on the forge-list item that does not pertain to selection.
> Be sure to place the attribute on the native input.

</PageSection>

<PageSection>

## Methods

<MethodDef name="deactivateRipple(): void">

Forces the ripple state layter to deactivate.

</MethodDef>

<MethodDef name="focus(): void">

Sets focus to this list item.

</MethodDef>

</PageSection>

<PageSection>

## Events

| Name                       | Description
| :--------------------------| :-----------------
| `forge-list-item-select`   | Emits when a list item is clicked, and provides the value of the list item.

</PageSection>

<PageSection>

## Keyboard shortcuts

| Name                                | Description
| :-----------------------------------| :----------------
| `arrow down`                        | Moves focus to next list item.
| `arrow up`                          | Moves focus to previous list item.
| `home`                              | Moves focus to first list item.
| `end`                               | Moves focus to last list item.
| `enter / space`                     | Selects the focused list item.

</PageSection>

<PageSection>

## Slots

### List

| Name                             | Description
| :--------------------------------| :----------------
| `default`                        | The default (unnamed) slot is where child `<forge-list-item>` elements will be placed.

### List item

| Name                             | Description
| :--------------------------------| :----------------
| `default`                        | The default (unnamed) slot will render any content provided to it.
| `avatar`                         | Similar to the `leading` slot, but provides specific styles to render the content similar to an "avatar" icon.
| `leading`                        | Renders content at the far left of the list-item.
| `title`                          | Renders a title on the first row of the list-item.
| `subtitle`                       | Renders a subtitle on the second row of the list-item.
| `tertiary-title`                 | Renders a tertiary title on the third row of the list-item.
| `trailing`                       | Renders content at the far right of the list-item.

</PageSection>

<PageSection>

## CSS parts

### List

| Name                             | Description
| :--------------------------------| :----------------
| `root`                           | The root element.

### List item

| Name                             | Description
| :--------------------------------| :----------------
| `root`                           | The root element.
| `text-container`                 | The container element around the slotted content.

</PageSection>

<PageSection>

## CSS custom properties

### List

| Name                             | Description
| :--------------------------------| :----------------
| `--forge-list-padding`             | Controls the top and bottom padding applied to the list. Default is `8px`.

### List item

| Name                                               | Description
| :--------------------------------------------------| :----------------
| `--forge-list-item-height`                         | Sets the height of the list item.
| `--forge-list-item-padding`                        | Controls the padding applied to the list item.
| `--forge-list-item-min-height`                     | Sets the min height of the list item. Default is `auto`.
| `--forge-list-item-max-height`                     | Sets the max-height of the list item. Default is `auto`.
| `--forge-list-item-indent`                         | Sets the indentation amount (margin-left) of the list item. Default is `56px`.
| `--forge-list-item-align-items`                    | Controls the cross-axis alignment of list item content.
| `--forge-list-item-leading-margin-left`            | Controls the margin-left applied to the internal list-item leading element.
| `--forge-list-item-leading-margin-right`           | Controls the margin-right applied to the internal list-item leading element.
| `--forge-list-item-margin`                         | Controls the margin around the list items when placed within a drawer.
| `--forge-list-item-padding`                        | Controls the padding within the list items when placed within a drawer.
| `--forge-list-item-cursor`                         | Controls the cursor of the list items when placed within a drawer.
| `--forge-list-item-border-radius`                  | Controls the border-radius of the list items when placed within a drawer.
| `--mdc-theme-text-secondary-on-background`         | Controls the leading, trailing, avatar, and subtitle font color.
| `--mdc-theme-primary`                              | Controls the selected state color.
| `--mdc-theme-on-primary`                           | Controls the selected state font color.
| `--mdc-theme-on-surface`                           | Controls the default font color for slotted elements.
| `--mdc-theme-text-disabled-on-light`               | Controls the disabled font color for leading and trailing elements.
| `--mdc-theme-text-disabled-on-background`          | Controls the disabled font color.

> **Tip:** To reduce the margin between the icon and label, use the following: `--forge-list-item-leading-margin-right: 16px`

</PageSection>

<PageSection>

## Accessibility

- Verify that you can reach each active list item by keyboard navigation.
  - Ensure a distinct visual style is applied which highlights the currently focused list item.
- Verify that pressing the space bar or enter key while focused on a list-item will activate the list-item in the same manner as if it had been clicked with a mouse.
- Be sure to include a [role](https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/ARIA_Techniques) attribute to indicate to screen readers what the list-item is being used for.
- If the list item contains a checkbox or radio box, ensure that it can be focused and selected/toggled by keyboard.

</PageSection>

---

<PageSection>

## Types

### IListItemSelectEventData

```ts
export interface IListItemSelectEventData {
  value: any;
  listItem: IListItemComponent;
}
```

</PageSection>
