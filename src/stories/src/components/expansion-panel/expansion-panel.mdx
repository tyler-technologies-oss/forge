import { Default as ExpansionPanelDemo } from './expansion-panel.stories';
import { CardRecipeTemplate as ExpansionPanelCardDemo } from './templates/card-recipe.tsx';
import { ExpansionPanelDefaultCodeHtml } from './code/expansion-panel-default';
import { ExpansionPanelCardRecipeCodeHtml } from './code/expansion-panel-card-recipe.ts';

<PageSection>

# Expansion panel

The expansion-panel component is used for animating between a collapsed and expanded state for hiding and showing the details of a section of content.
It does not provide any styling for the content that is displayed within it, or the header element. It simply handles click events on the slotted header
element to expand/collapse the content.

The header element is technically optional if you would like to manage the open state programmatically instead. This is useful if you have a collapsible
region that is controlled by another element.

</PageSection>

---

<PageSection>

## Example

### Basic

This following is a simple example demonstrating the most basic usage of this component.

<LiveDemo codeHtml={ExpansionPanelDefaultCodeHtml()}>
  <ExpansionPanelDemo />
</LiveDemo>

### Card

Expansion panels can be composed with many other elements such as cards for example:

<LiveDemo codeHtml={ExpansionPanelCardRecipeCodeHtml()}>
  <ExpansionPanelCardDemo />
</LiveDemo>

</PageSection>

<PageSection>

## Properties/Attributes

<PropertyDef name="open" type="boolean" defaultValue="">

Controls whether the content is expanded (`true`) or collapsed (`false`). Default is `false`.
  
</PropertyDef>

<PropertyDef name="orientation" type="string" defaultValue="&quot;vertical&quot;">

Controls the expand/collapse animation direction. Valid values: `"vertical"` (default), `"horizontal"`.

**Note:** when using the `horizontal` orientation, set a width for the default slot element to ensure a smooth transition animation.
  
</PropertyDef>

<PropertyDef name="openCallback" type="() => void | Promise<void>" attr={false} defaultValue="undefined">

A callback that can be provided to be notified before the expand transition occurs. This will allow you to cancel the action if desired.
  
</PropertyDef>

<PropertyDef name="closeCallback" type="() => void | Promise<void>" attr={false} defaultValue="undefined">

A callback that can be provided to be notified before the collapse transition occurs. This will allow you to cancel the action if desired.
  
</PropertyDef>

<PropertyDef name="useAnimations" type="boolean" defaultValue="true">

Gets/sets if animations are used in the expand/collapse transition.
  
</PropertyDef>

</PageSection>

---

<PageSection>

## Methods

<MethodDef name="toggle(): void;">

Manually toggles the open state between expanded and collapsed.

</MethodDef>

<MethodDef name="setOpenImmediate(open: boolean): void;">

Forces the expansion panel to expand/collapse immediately **without** transition animations.

</MethodDef>

</PageSection>

<PageSection>

## Events

| Name                          | Description
| :-----------------------------| :----------------------
| `forge-expansion-panel-toggle`  | Emits when the panel is opened or closed. Returns a boolean of whether the expansion panel is open or closed.

</PageSection>

<PageSection>

## Keyboard shortcuts

| Name                                | Description
| :-----------------------------------| :----------------
| `space / enter`                     | Opens and closes the expansion panel.

</PageSection>

<PageSection>

## Slots

| Name                          | Description
| :-----------------------------| :----------------------
| `header`                      | The clickable header element that will be used to toggle the collapsed state. This is typically a `<button>` element.
| `default`                     | The default (unnamed) slot where the collapsible content will be rendered.

</PageSection>

<PageSection>

## CSS parts

| Name                   | Description
| :----------------------| :----------------------
| `root`                 | The root container element.
| `header`               | The container around the `header` slot.
| `content`              | The container around the `default` content slot.

</PageSection>

<PageSection>

## CSS custom properties

| Name                                       | Description
| :------------------------------------------| :----------------------
| `--forge-expansion-panel-content-overflow`   | Sets the overflow style on the internal content.
| `--forge-expansion-panel-content-max-height` | Sets the max-height style on the internal content.
| `--forge-expansion-panel-display`            | Sets the display style on the internal panel container.
| `--forge-expansion-panel-height`             | Sets the height style on the internal panel container.

</PageSection>
