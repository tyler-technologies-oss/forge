@use '../core/styles/typography';
@use './token-utils' as *;

@mixin host {
  display: inline-block;
}

@mixin checkbox {
  position: relative;
  flex-direction: #{variable(direction)};
  flex-shrink: 0;
  align-items: center;
  justify-content: #{variable(justify)};
  gap: #{variable(gap)};

  display: flex;
}

@mixin checkbox-disabled {
  opacity: #{variable(disabled-opacity)};
}

@mixin container {
  position: relative;
  align-items: center;
  justify-content: center;

  display: flex;

  border-radius: #{variable(state-layer-shape)};
  inline-size: #{variable(state-layer-width)};
  block-size: #{variable(state-layer-height)};

  cursor: pointer;
}

@mixin container-dense {
  inline-size: #{variable(state-layer-dense-width)};
  block-size: #{variable(state-layer-dense-height)};
}

@mixin container-disabled {
  cursor: not-allowed;
}

@mixin input {
  position: absolute;
  z-index: 1;

  appearance: none;

  outline: none;
  margin: 0;
  inline-size: 100%;
  block-size: 100%;

  cursor: unset;
}

@mixin background {
  position: relative;
  align-items: center;
  justify-content: center;

  display: flex;

  transition-property: background-color, border-width, border-color;
  transition-duration: #{variable(animation-duration)};
  transition-timing-function: #{variable(background-animation-timing)};

  box-shadow: #{variable(elevation)};
  border-style: solid;
  border-width: #{variable(unchecked-border-width)};
  border-color: #{variable(unchecked-border-color)};
  border-radius: #{variable(shape)};
  box-sizing: border-box;
  block-size: #{variable(height)};
  inline-size: #{variable(width)};

  background-color: #{variable(background-color)};
}

@mixin background-checked {
  border-style: solid;
  border-width: #{variable(checked-border-width)};
  border-color: #{variable(checked-border-color)};

  background-color: #{variable(checked-background-color)};
}

@mixin icon {
  position: absolute;

  transition-property: stroke-dashoffset;
  transition-duration: #{variable(animation-duration)};
  transition-timing-function: #{variable(icon-animation-timing)};

  fill: none;
  stroke-width: #{variable(icon-stroke-width)};
}

@mixin icon-checked {
  stroke: #{variable(icon-checked-color)};
  stroke-dasharray: 30;
}

@mixin icon-checked-hidden {
  transition-delay: 0s;
  
  stroke-dashoffset: 30;
}

@mixin icon-checked-visible {
  transition-delay: #{variable(animation-duration)};

  stroke-dashoffset: 0;

  // Animate from right to left in RTL
  &:dir(rtl) {
    stroke-dashoffset: 60;
  }
}

@mixin icon-indeterminate {
  stroke: #{variable(icon-indeterminate-color)};
  stroke-dasharray: 20;
}

@mixin icon-indeterminate-hidden {
  transition-delay: 0s;
  
  stroke-dashoffset: 20;
}

@mixin icon-indeterminate-visible {
  transition-delay: #{variable(animation-duration)};

  stroke-dashoffset: 0;

  // Animate from right to left in RTL
  &:dir(rtl) {
    stroke-dashoffset: 40;
  }
}

@mixin label {
  @include typography.style(label);

  &:empty {
    display: none;
  }
}