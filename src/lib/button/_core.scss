@use '../core/styles/typography';
@use './token-utils' as *;

@mixin host {
  display: #{variable(display)};
  position: relative;
  outline: none;
  -webkit-tap-highlight-color: transparent;
}

@mixin base {
  @include typography.style(button);
  
  position: relative;
  display: #{variable(display)};
  align-items: center;
  justify-content: #{variable(justify)};
  gap: #{variable(spacing)};
  z-index: 0;

  box-sizing: border-box;
  min-inline-size: #{variable(min-width)};
  height: #{variable(height)};
  inline-size: 100%;
  border-width: #{variable(border-width)};
  border-style: #{variable(border-style)};
  border-color: #{variable(border-color)};
  border-top-left-radius: #{variable(border-top-left-radius)};
  border-top-right-radius: #{variable(border-top-right-radius)};
  border-bottom-left-radius: #{variable(border-bottom-left-radius)};
  border-bottom-right-radius: #{variable(border-bottom-right-radius)};
  padding-block: #{variable(padding-block)};
  padding-inline: #{variable(padding-inline)};
  box-shadow: #{variable(shadow)};

  outline: none;
  user-select: none;
  -webkit-appearance: none;
  vertical-align: middle;
  text-decoration: none;

  background: #{variable(background)};
  color: #{variable(color)};
  cursor: #{variable(cursor)};

  transition-property: box-shadow, background;
  transition-duration: #{variable(transition-duration)};
  transition-timing-function: #{variable(transition-timing)};

  &::-moz-focus-inner {
    padding: 0;
    border: 0;
  }

  &:hover {
    @include override(shadow, hover-shadow);

    background: #{variable(hover-background)};
  }

  &:active {
    @include override(shadow, active-shadow);

    background: #{variable(active-background)};
  }
}

@mixin slotted-start-end {
  font-size: #{variable(icon-size)};
}

@mixin anchor-base {
  position: absolute;
  inset: 0;
  text-decoration: none;
}

@mixin text {
  @include override(focus-indicator-offset, text-focus-indicator-offset);
}

@mixin raised {
  @include override(background, raised-background);
  @include override(color, raised-color);
  @include override(shadow, raised-shadow);

  &:hover {
    @include override(shadow, raised-hover-shadow);
  }

  &:active {
    @include override(shadow, raised-active-shadow);
  }
}

@mixin flat {
  @include override(background, flat-background);
  @include override(color, flat-color);
}

@mixin outlined {
  @include override(background, outlined-background);
  @include override(color, outlined-color);
  @include override(border-width, outlined-border-width);
  @include override(border-style, outlined-border-style);
  @include override(border-color, outlined-border-color);
}

@mixin link {
  @include override(color, link-color);
  @include override(height, link-height);
  @include override(padding, link-padding);
  @include override(focus-indicator-offset, link-focus-indicator-offset);

  text-decoration: #{variable(link-text-decoration)};
  line-height: #{variable(link-line-height)};
  transition: opacity #{variable(link-transition-duration)} #{variable(link-transition-timing)};
  inline-size: #{variable(link-width)};

  &:hover {
    text-decoration: #{variable(link-hover-text-decoration)};
  }

  &:active {
    opacity: #{variable(link-active-opacity)};
  }
}

@mixin host-disabled {
  cursor: #{variable(disabled-cursor)};
}

@mixin disabled {
  @include override(background, disabled-background);
  @include override(color, disabled-text-color);
  @include override(shadow, disabled-shadow);

  pointer-events: none;
}

@mixin raised-disabled {
  @include override(shadow, raised-disabled-shadow);
  @include override(background, raised-disabled-background);
  @include override(color, raised-disabled-color);
}

@mixin flat-disabled {
  @include override(background, flat-disabled-background);
  @include override(color, flat-disabled-color);
}

@mixin outlined-disabled {
  @include override(border-color, disabled-border-color);
}

@mixin dense {
  @include override(height, dense-height);
}

@mixin pill {
  @include override(shape, pill-shape);
  @include override(padding-inline, pill-padding-inline);
}
