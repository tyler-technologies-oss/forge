@use '../core/styles/typography';
@use '../core/styles/utils';
@use '../core/styles/tokens/button/tokens';

@mixin provide-theme($theme) {
  @include utils.provide(tokens.$tokens, $theme, button);
}

@mixin host {
  display: var(--_display);
  outline: none;
  -webkit-tap-highlight-color: transparent;
}

@mixin base {
  @include typography.style(button);
  
  position: relative;
  box-sizing: border-box;
  display: var(--_display);
  align-items: center;
  justify-content: var(--_justify);
  gap: var(--_spacing);
  outline: none;
  user-select: none;
  -webkit-appearance: none;
  vertical-align: middle;
  text-decoration: none;
  z-index: 0;

  background: var(--_background);
  color: var(--_color);
  
  min-inline-size: var(--_width);
  height: var(--_height);
  inline-size: 100%;
  
  border-width: var(--_border-width);
  border-style: var(--_border-style);
  border-color: var(--_border-color);
  border-top-left-radius: var(--_border-top-left-radius);
  border-top-right-radius: var(--_border-top-right-radius);
  border-bottom-left-radius: var(--_border-bottom-left-radius);
  border-bottom-right-radius: var(--_border-bottom-right-radius);

  padding-block: var(--_padding-block);
  padding-inline: var(--_padding-inline);

  box-shadow: var(--_shadow);

  transition: box-shadow var(--_raised-transition-duration) var(--_raised-transition-timing);
  cursor: var(--_cursor);

  &::-moz-focus-inner {
    padding: 0;
    border: 0;
  }

  &:hover {
    --_shadow: var(--_hover-shadow);
    --_background: var(--_hover-background);
  }

  &:active {
    --_shadow: var(--_active-shadow);
    --_background: var(--_active-background);
  }
}

@mixin slotted-start-end {
  font-size: var(--_icon-size);
}

@mixin anchor-reset {
  text-decoration: none;
}

@mixin raised {
  --_background: var(--_raised-background);
  --_color: var(--_raised-color);
  --_shadow: var(--_raised-shadow);

  &:hover {
    --_shadow: var(--_raised-hover-shadow);
  }

  &:active {
    --_shadow: var(--_raised-active-shadow);
  }
}

@mixin flat {
  --_background: var(--_flat-background);
  --_color: var(--_flat-color);
}

@mixin outlined {
  --_background: var(--_outlined-background);
  --_color: var(--_outlined-color);
  --_border-width: var(--_outlined-border-width);
  --_border-style: var(--_outlined-border-style);
  --_border-color: var(--_outlined-border-color);
}

@mixin link {
  --_color: var(--_link-color);
  --_height: var(--_link-height);
  --_padding: var(--_link-padding);

  text-decoration: var(--_link-text-decoration);
  line-height: var(--_link-line-height);
  transition: opacity var(--_link-transition-duration) var(--_link-transition-timing);
  inline-size: var(--_link-width);

  &:visited {
    --_color: var(--_link-visited-color);
  }

  &:hover {
    text-decoration: var(--_link-hover-text-decoration);
  }

  &:active {
    opacity: var(--_link-active-opacity);
  }
}

@mixin host-disabled {
  cursor: var(--_disabled-cursor);
}

@mixin disabled {
  --_background: var(--_disabled-background);
  --_color: var(--_disabled-text-color);
  --_shadow: var(--_disabled-shadow);

  pointer-events: none;
}

@mixin raised-disabled {
  --_shadow: var(--_raised-disabled-shadow);
  --_background: var(--_raised-disabled-background);
  --_color: var(--_raised-disabled-color);
}

@mixin flat-disabled {
  --_background: var(--_flat-disabled-background);
  --_color: var(--_flat-disabled-color);
}

@mixin outlined-disabled {
  --_border-color: var(--_disabled-border-color);
}

@mixin dense {
  --_height: var(--_dense-height);
}

@mixin pill {
  --_shape: var(--_pill-shape);
  --_padding-inline: var(--_pill-padding-inline);
}
