@use 'sass:list';
@use '../core/styles/slider';
@use '../focus-indicator/mixins' as focus-indicator;
@use '../state-layer/mixins' as state-layer;
@use './variables';

@mixin provide-theme($theme) {
  @each $key, $value in $theme {
    @if list.index(variables.$supported-theme-properties, $key) == null {
      @error 'Invalid theme property: #{$key}';
    }
    @if $value {
      --#{slider.$prefix}-#{$key}: #{$value};
    }
  }
}

@mixin host {
  @include slider.container;
}

@mixin core-styles {
  @include slider.styles;

  forge-focus-indicator {
    /* stylelint-disable length-zero-no-unit */
    @include focus-indicator.provide-theme((
      shape: 50%,
      outward-offset: 0px
    ));
  }

  forge-state-layer {
    @include state-layer.provide-theme((
      color: var(--_handle-color)
    ));
  }
}
