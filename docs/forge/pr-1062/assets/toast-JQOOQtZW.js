import{C as v,l,k as b,s as y,B as E,j as T}from"./base-component-DX3NI00Q.js";import{B as L,c as h}from"./base-adapter-B0TZVCzP.js";import"./service-adapter-CffG5Lhq.js";import{y as x,c as u}from"./feature-detection-eeAKFJs_.js";import{I as A,C,F as w}from"./tyler-icons-B0WPf66k.js";import{B as O}from"./button-Bo120i2a.js";import"./focus-indicator-CLPKTA79.js";import"./state-layer-u9rLNX9t.js";import{a as I,W as k}from"./with-default-aria-BRt53Z3x.js";import{D as f,t as p}from"./dismissible-stack-CFeZREPK.js";import{a as N,d as S}from"./dialog-Dic_j1BD.js";import"./backdrop-ZqVEdIYI.js";import"./index-DTwfV0k0.js";import{I as P}from"./icon-button-CtswH01O.js";import{O as B,a as D}from"./overlay-BhwPRyah.js";const _=`${v}toast`,g={OPEN:"open",DURATION:"duration",PLACEMENT:"placement",ACTION_TEXT:"action-text",DISMISSIBLE:"dismissible",DISMISS_LABEL:"dismiss-label",THEME:"theme"},F={...g},H={ACTION:`${_}-action`,CLOSE:`${_}-close`},M={EXITING:"exiting"},R={SURFACE:".surface",ACTION_BUTTON:".action-button",CLOSE_BUTTON:".close-button"},z={PLACEMENT:"bottom",DURATION:2750,THEME:"default"},e={elementName:_,observedAttributes:g,attributes:F,classes:M,selectors:R,defaults:z,events:H};class U extends L{constructor(t){super(t),this._overlayElement=l(t,B.elementName),this._surfaceElement=l(t,e.selectors.SURFACE),this._actionButtonElement=l(t,e.selectors.ACTION_BUTTON),this._closeButtonElement=l(t,e.selectors.CLOSE_BUTTON)}show(){this._overlayElement.open=!0}async hide(){await x(this._surfaceElement,e.classes.EXITING),this._overlayElement.open=!1}addCloseListener(t){this._closeButtonElement.addEventListener("click",t)}removeCloseListener(t){this._closeButtonElement.removeEventListener("click",t)}addActionListener(t){this._actionButtonElement.addEventListener("click",t)}removeActionListener(t){this._actionButtonElement.removeEventListener("click",t)}setDismissLabel(t){this._closeButtonElement.setAttribute("aria-label",t)}setActionText(t){this._actionButtonElement.textContent=t,t?this._actionButtonElement.removeAttribute("hidden"):this._actionButtonElement.setAttribute("hidden","")}addPointerEnterListener(t){this._component.addEventListener("pointerenter",t)}removePointerEnterListener(t){this._component.removeEventListener("pointerenter",t)}addPointerLeaveListener(t){this._component.addEventListener("pointerleave",t)}removePointerLeaveListener(t){this._component.removeEventListener("pointerleave",t)}addFocusInListener(t){this._component.addEventListener("focusin",t)}removeFocusInListener(t){this._component.removeEventListener("focusin",t)}addFocusOutListener(t){this._component.addEventListener("focusout",t)}removeFocusOutListener(t){this._component.removeEventListener("focusout",t)}addKeyboardListener(t){this._component.addEventListener("keydown",t)}removeKeyboardListener(t){this._component.removeEventListener("keydown",t)}}class j{constructor(t){this._adapter=t,this._open=!1,this._duration=e.defaults.DURATION,this._placement=e.defaults.PLACEMENT,this._dismissible=!1,this._theme=e.defaults.THEME,this._actionListener=this._onAction.bind(this),this._closeListener=this._onClose.bind(this),this._isHovered=!1,this._isFocused=!1,this._pointerEnterListener=this._handlePointerEnter.bind(this),this._pointerLeaveListener=this._handlePointerLeave.bind(this),this._focusInListener=this._handleFocusIn.bind(this),this._focusOutListener=this._handleFocusOut.bind(this),this._keyboardListener=this._handleKeyboard.bind(this)}initialize(){this._adapter.tryApplyGlobalConfiguration(["duration","placement","dismissible"]),this._adapter.addPointerEnterListener(this._pointerEnterListener),this._adapter.addPointerLeaveListener(this._pointerLeaveListener),this._adapter.addFocusInListener(this._focusInListener),this._adapter.addFocusOutListener(this._focusOutListener),this._adapter.addKeyboardListener(this._keyboardListener),this._open&&this.show()}show(){this._adapter.show(),f.instance.add(this._adapter.hostElement),isFinite(this._duration)&&this._duration>0&&(this._hideTimeout&&window.clearTimeout(this._hideTimeout),this._hideTimeout=window.setTimeout(()=>this.hide(),this._duration)),this._open=!0,this._adapter.toggleHostAttribute(e.attributes.OPEN,this._open)}async hide({dispatchEvent:t=!0}={}){this._hideTimeout&&(window.clearTimeout(this._hideTimeout),this._hideTimeout=void 0),this._isHovered=!1,this._isFocused=!1,f.instance.remove(this._adapter.hostElement),await this._adapter.hide(),this._open=!1,this._adapter.toggleHostAttribute(e.attributes.OPEN,this._open),t&&this._adapter.dispatchHostEvent(new CustomEvent(e.events.CLOSE,{bubbles:!0}))}_onAction(t){t.stopPropagation(),this._adapter.dispatchHostEvent(new CustomEvent(e.events.ACTION,{bubbles:!0}))}_onClose(t){this.hide()}_handlePointerEnter(){this._isHovered=!0,this._updateTimerState()}_handlePointerLeave(){this._isHovered=!1,this._updateTimerState()}_handleFocusIn(){this._isFocused=!0,this._updateTimerState()}_handleFocusOut(){this._isFocused=!1,this._updateTimerState()}_handleKeyboard(t){t.key==="Escape"&&this._open&&(t.stopPropagation(),f.instance.dismiss(this._adapter.hostElement,{reason:"escape"}))}_updateTimerState(){const t=this._isHovered||this._isFocused;t&&this._hideTimeout?this._pauseTimer():!t&&!this._hideTimeout&&this._resumeTimer()}_pauseTimer(){this._hideTimeout&&(window.clearTimeout(this._hideTimeout),this._hideTimeout=void 0)}_resumeTimer(){isFinite(this._duration)&&this._duration>0&&(this._hideTimeout=window.setTimeout(()=>this.hide(),this._duration))}[p](t){return t?.reason==="escape"?(this.hide(),!0):!1}get open(){return this._open}set open(t){t=!!t,this._open!==t&&(this._adapter.isConnected?t?this.show():this.hide({dispatchEvent:!1}):this._open=t,this._adapter.toggleHostAttribute(e.attributes.OPEN,this._open))}get duration(){return this._duration}set duration(t){t??=e.defaults.DURATION,this._duration!==t&&(this._duration=t,this._hideTimeout&&(window.clearTimeout(this._hideTimeout),isFinite(this._duration)&&this._duration>0&&(this._hideTimeout=window.setTimeout(()=>this.hide(),this._duration))))}get placement(){return this._placement}set placement(t){this._placement!==t&&(this._placement=t,this._adapter.setHostAttribute(e.attributes.PLACEMENT,this._placement))}get actionText(){return this._actionText}set actionText(t){t=t?.trim()??"",this._actionText!==t&&(this._actionText=t,this._adapter.setActionText(this._actionText),this._actionText?this._adapter.addActionListener(this._actionListener):this._adapter.removeActionListener(this._actionListener),this._adapter.toggleHostAttribute(e.attributes.ACTION_TEXT,!!this._actionText,this._actionText))}get dismissible(){return this._dismissible}set dismissible(t){t=!!t,this._dismissible!==t&&(this._dismissible=t,this._dismissible?this._adapter.addCloseListener(this._closeListener):this._adapter.removeCloseListener(this._closeListener),this._adapter.toggleHostAttribute(e.attributes.DISMISSIBLE,this._dismissible))}get dismissLabel(){return this._dismissLabel}set dismissLabel(t){this._dismissLabel!==t&&(this._dismissLabel=t,this._adapter.setDismissLabel(this._dismissLabel))}get theme(){return this._theme}set theme(t){t??=e.defaults.THEME,this._theme!==t&&(this._theme=t,this._adapter.setHostAttribute(e.attributes.THEME,this._theme))}}const K=`<template>
  <forge-overlay exportparts="root:overlay" no-anchor persistent>
    <div class="surface" part="surface">
      <slot name="icon"></slot>
      <div class="message" part="message">
        <slot></slot>
      </div>
      <forge-button hidden part="action-button" class="action-button"></forge-button>
      <forge-icon-button part="close-button" class="close-button" aria-label="Dismiss" density="medium">
        <forge-icon name="close"></forge-icon>
      </forge-icon-button>
    </div>
  </forge-overlay>
</template>
`,X='@keyframes slidein{0%{transform:translateY(var(--_toast-slide-origin))}to{transform:translateY(0)}}@keyframes slideout{0%{transform:translateY(0)}to{transform:translateY(var(--_toast-slide-origin))}}@keyframes fadein{0%{opacity:0}to{opacity:1}}@keyframes fadeout{0%{opacity:1}to{opacity:0}}@layer base,open,theme,placement,media;@layer base{:host{display:contents}:host([hidden]){display:none}.surface{--_toast-background: var(--forge-toast-background, var(--forge-theme-surface-inverse, #333333));--_toast-color: var(--forge-toast-color, var(--forge-theme-on-surface-inverse, #ffffff));--_toast-offset: var(--forge-toast-offset, var(--forge-spacing-medium, 16px));--_toast-shape: var(--forge-toast-shape, calc(var(--forge-shape-medium, 4px) * var(--forge-shape-factor, 1)));--_toast-elevation: var(--forge-toast-elevation, 0px 3px 5px -1px rgba(0, 0, 0, .2), 0px 6px 10px 0px rgba(0, 0, 0, .14), 0px 1px 18px 0px rgba(0, 0, 0, .12));--_toast-action-color: var(--forge-toast-action-color, var(--forge-theme-secondary, #ffc107));--_toast-min-width: var(--forge-toast-min-width, 344px);--_toast-max-width: var(--forge-toast-max-width, 672px);--_toast-min-height: var(--forge-toast-min-height, 48px);--_toast-inline-padding: var(--forge-toast-inline-padding, var(--forge-spacing-medium, 16px));--_toast-spacing: var(--forge-toast-spacing, var(--forge-spacing-xsmall, 8px));--_toast-message-padding: var(--forge-toast-message-padding, var(--forge-spacing-xsmall, 8px));--_toast-enter-duration: var(--forge-toast-enter-duration, var(--forge-animation-duration-medium1, .25s));--_toast-enter-timing: var(--forge-toast-enter-timing, var(--forge-animation-easing-decelerate, cubic-bezier(0, 0, 0, 1)));--_toast-exit-duration: var(--forge-toast-exit-duration, var(--forge-animation-duration-short4, .2s));--_toast-exit-timing: var(--forge-toast-exit-timing, var(--forge-animation-easing-emphasized-accelerate, cubic-bezier(.3, 0, .8, .15)));--_toast-slide-origin: var(--forge-toast-slide-origin, 100%)}.surface{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--forge-typography-body2-font-family, var(--forge-typography-font-family, "Roboto", sans-serif));font-size:var(--forge-typography-body2-font-size, calc(var(--forge-typography-font-size, 1rem) * var(--forge-typography-body-font-size-scale, 1)));font-weight:var(--forge-typography-body2-font-weight, 400);line-height:var(--forge-typography-body2-line-height, calc(var(--forge-typography-font-size, 1rem) * var(--forge-typography-body-line-height-scale, 1.375)));letter-spacing:var(--forge-typography-body2-letter-spacing, .015625em);text-transform:var(--forge-typography-body2-text-transform, inherit);text-decoration:var(--forge-typography-body2-text-decoration, inherit);position:fixed;display:flex;align-items:center;column-gap:var(--_toast-spacing);border-radius:var(--_toast-shape);padding-inline:var(--_toast-inline-padding);margin:var(--_toast-offset);min-width:var(--_toast-min-width);max-width:var(--_toast-max-width);min-height:var(--_toast-min-height);box-sizing:border-box;background:var(--_toast-background);color:var(--_toast-color);box-shadow:var(--_toast-elevation)}.message{flex-grow:1;padding-block:var(--_toast-message-padding);text-overflow:ellipsis;overflow:hidden}forge-button.action-button{--forge-button-primary-color: var(--_toast-action-color)}forge-icon-button.close-button{--forge-icon-button-focus-indicator-color: var(--_toast-color)}:host(:not([dismissible])) .close-button{display:none}.action-button:not([hidden]){margin-inline-end:-8px}:host([dismissible]) .close-button{margin-inline-end:-8px}}@layer theme{:host([theme=primary]) .surface{--_toast-background: var(--forge-toast-background, var(--forge-theme-primary, #3f51b5));--_toast-color: var(--forge-toast-color, var(--forge-theme-on-primary, #ffffff));--_toast-action-color: var(--_toast-color)}:host([theme=secondary]) .surface{--_toast-background: var(--forge-toast-background, var(--forge-theme-secondary, #ffc107));--_toast-color: var(--forge-toast-color, var(--forge-theme-on-secondary, #000000));--_toast-action-color: var(--_toast-color)}:host([theme=tertiary]) .surface{--_toast-background: var(--forge-toast-background, var(--forge-theme-tertiary, #3d5afe));--_toast-color: var(--forge-toast-color, var(--forge-theme-on-tertiary, #ffffff));--_toast-action-color: var(--_toast-color)}:host([theme=success]) .surface{--_toast-background: var(--forge-toast-background, var(--forge-theme-success, #2e7d32));--_toast-color: var(--forge-toast-color, var(--forge-theme-on-success, #ffffff));--_toast-action-color: var(--_toast-color)}:host([theme=warning]) .surface{--_toast-background: var(--forge-toast-background, var(--forge-theme-warning, #d14900));--_toast-color: var(--forge-toast-color, var(--forge-theme-on-warning, #ffffff));--_toast-action-color: var(--_toast-color)}:host([theme=error]) .surface{--_toast-background: var(--forge-toast-background, var(--forge-theme-error, #b00020));--_toast-color: var(--forge-toast-color, var(--forge-theme-on-error, #ffffff));--_toast-action-color: var(--_toast-color)}:host([theme=info]) .surface{--_toast-background: var(--forge-toast-background, var(--forge-theme-info, #1565c0));--_toast-color: var(--forge-toast-color, var(--forge-theme-on-info, #ffffff));--_toast-action-color: var(--_toast-color)}}@layer open{forge-overlay[open] .surface{animation-name:slidein;animation-duration:var(--_toast-enter-duration);animation-timing-function:var(--_toast-enter-timing)}forge-overlay[open] .surface.exiting{animation-name:slideout;animation-duration:var(--_toast-exit-duration);animation-timing-function:var(--_toast-exit-timing)}}@layer placement{:host([placement=bottom-start]) .surface{bottom:0;left:0}:host(:is(:not([placement]),[placement=bottom])) .surface{bottom:0;left:50%;translate:-50%}:host([placement=bottom-end]) .surface{bottom:0;right:0}:host([placement=top-start]) .surface{--_toast-slide-origin: var(--forge-toast-slide-origin, -100%);top:0;left:0}:host([placement=top]) .surface{--_toast-slide-origin: var(--forge-toast-slide-origin, -100%);top:0;left:50%;translate:-50%}:host([placement=top-end]) .surface{--_toast-slide-origin: var(--forge-toast-slide-origin, -100%);top:0;right:0}}@layer media{@media(prefers-reduced-motion:reduce){forge-overlay[open] .surface{animation-name:fadein}forge-overlay[open] .surface.exiting{animation-name:fadeout}}@media(max-width:599px){:host([placement^=top]) .surface{bottom:auto;top:0}.surface{bottom:0;left:0;right:0;margin:0;translate:none;max-width:none;min-width:auto;border-radius:0}}}';var Y=Object.defineProperty,G=Object.getOwnPropertyDescriptor,d=(a,t,o,i)=>{for(var r=i>1?void 0:i?G(t,o):t,c=a.length-1,s;c>=0;c--)(s=a[c])&&(r=(i?s(t,o,r):s(r))||r);return i&&r&&Y(t,o,r),r};let n=class extends I(k(E)){static get observedAttributes(){return Object.values(e.observedAttributes)}constructor(){super(),A.define(C),b(this,K,X),this._core=new j(new U(this))}connectedCallback(){this.hasAttribute("role")||this.getAttribute("aria-hidden")==="true"||this[y]({role:"alert",ariaLive:"assertive",ariaAtomic:"true"}),this._core.initialize()}attributeChangedCallback(a,t,o){switch(a){case e.attributes.OPEN:this.open=u(o);break;case e.attributes.DURATION:{const i=Number(o);this.duration=i&&i>0?i:e.defaults.DURATION;break}case e.attributes.PLACEMENT:this.placement=o||e.defaults.PLACEMENT;break;case e.attributes.ACTION_TEXT:this.actionText=o;break;case e.attributes.DISMISSIBLE:this.dismissible=u(o);break;case e.attributes.DISMISS_LABEL:this.dismissLabel=o;break;case e.attributes.THEME:this.theme=o;break}}show(){this._core.show()}hide(){return this._core.hide()}[p](a){return this._core[p](a)}static present({message:a,element:t,icon:o,className:i,topLayer:r,...c}){const s=document.createElement(e.elementName);if(t?s.appendChild(t):a&&s.append(a),o){const m=document.createElement("forge-icon");Object.assign(m,o),m.slot="icon",s.appendChild(m)}if(i){const m=Array.isArray(i)?i:[i];s.classList.add(...m)}return c&&Object.assign(s,c),(r&&Array.from(N[S]).at(-1)||document.body).appendChild(s),s.open=!0,s.addEventListener(e.events.CLOSE,()=>s.remove()),s}};d([h()],n.prototype,"open",2);d([h()],n.prototype,"duration",2);d([h()],n.prototype,"placement",2);d([h()],n.prototype,"actionText",2);d([h()],n.prototype,"dismissible",2);d([h()],n.prototype,"dismissLabel",2);d([h()],n.prototype,"theme",2);n=d([T({name:e.elementName,dependencies:[D,O,P,w]})],n);export{n as T};
