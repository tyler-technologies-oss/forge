import{g as X}from"./event-utils-C1SDeUaq.js";import{C as Z}from"./service-adapter-CoGDs2_3.js";import{r as j,b as tt}from"./iframe-CvOKOd3F.js";import{n as S,t as et}from"./property-BJ9JucP8.js";import{o as at}from"./query-assigned-elements-43hYArgI.js";import{n as P,e as M}from"./ref-DAqVVuuC.js";import{B as it}from"./base-lit-element-DueX1byJ.js";import{b as F,t as T}from"./utils-DU-9AqTO.js";const st=":host{display:block;position:relative}:host .forge-button-area{cursor:var(--_button-area-cursor)}:host([hidden]){display:none}:host(:state(disabled)) .forge-button-area{cursor:var(--_button-area-disabled-cursor)}:host(:where(:state(pressed),:state(current))) .forge-button-area{background-color:var(--_button-area-selected-color)}.forge-button-area{--_button-area-primary-color: var(--forge-button-area-primary-color, var(--forge-theme-primary, #3f51b5));--_button-area-cursor: var(--forge-button-area-cursor, pointer);--_button-area-shape: var(--forge-button-area-shape, calc(var(--forge-shape-extra-small, 1px) * var(--forge-shape-factor, 1)));--_button-area-selected-color: var(--forge-button-area-selected-color, var(--forge-theme-primary-container, #d1d5ed));--_button-area-disabled-cursor: var(--forge-button-area-disabled-cursor, not-allowed);--_button-area-focus-indicator-color: var(--forge-button-area-focus-indicator-color, var(--forge-theme-primary, #3f51b5));--_button-area-focus-indicator-offset: var(--forge-button-area-focus-indicator-offset, 4px)}.forge-button-area{position:relative;overflow:hidden;block-size:100%;inline-size:100%;border-radius:var(--_button-area-shape)}.forge-button-area .button{position:absolute;inline-size:100%;block-size:100%}.forge-button-area .button ::slotted(:is(button)){position:absolute;inline-size:100%;block-size:100%;margin:0;padding:0;border:none;outline:none;overflow:hidden;clip:rect(0 0 0 0);clip-path:inset(50%);pointer-events:none}.forge-button-area .button ::slotted(:is(a[href])){position:absolute;inline-size:100%;block-size:100%;margin:0;padding:0;border:none;outline:none;overflow:hidden}forge-focus-indicator{z-index:1;--forge-focus-indicator-color: var(--_button-area-focus-indicator-color);--forge-focus-indicator-outward-offset: var(--_button-area-focus-indicator-offset);--forge-focus-indicator-shape: var(--_button-area-shape)}forge-state-layer{--forge-state-layer-color: var(--_button-area-primary-color);border-radius:inherit}";var rt=Object.defineProperty,ot=Object.getOwnPropertyDescriptor,q=t=>{throw TypeError(t)},E=(t,s,r,c)=>{for(var d=c>1?void 0:c?ot(s,r):s,k=t.length-1,A;k>=0;k--)(A=t[k])&&(d=(c?A(s,r,d):A(d))||d);return c&&d&&rt(s,r,d),d},z=(t,s,r)=>s.has(t)||q("Cannot "+r),i=(t,s,r)=>(z(t,s,"read from private field"),r?r.call(t):s.get(t)),o=(t,s,r)=>s.has(t)?q("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(t):s.set(t,r),x=(t,s,r,c)=>(z(t,s,"write to private field"),s.set(t,r),r),a=(t,s,r)=>(z(t,s,"access private method"),r),G,U,p,b,g,l,n,e,L,y,f,u,O,W,B,v,$,V,H,D,_,w,I,N,R,C,K,Y,J,m;const Q="forge-button-area";let h=class extends(U=it,G=Z,U){constructor(){super(),o(this,e),o(this,p),this.disabled=!1,this.target=void 0,this.targetElement=void 0,o(this,b),o(this,g,M()),o(this,l,M()),o(this,n,M()),o(this,O,t=>{this.disabled&&t.stopPropagation();const s=window.getSelection();if(s?.type==="Range"&&s?.toString().trim()!==""){t.stopPropagation();return}if(a(this,e,m).call(this,t)){t.stopPropagation();return}this.targetElement&&!t.composedPath().includes(this.targetElement)&&this.targetElement.click()}),o(this,W,t=>{t.key!=="Enter"&&(a(this,e,f).call(this,i(this,e,y))||t.key!==" ")||(a(this,e,m).call(this,t)?t.stopPropagation():a(this,e,Y).call(this))}),o(this,B,t=>{this.disabled||a(this,e,m).call(this,t)&&a(this,e,J).call(this)}),o(this,v,t=>{this.disabled||a(this,e,m).call(this,t)&&t.stopPropagation()}),o(this,$,()=>{this.targetElement||(a(this,e,D).call(this),a(this,e,_).call(this))}),x(this,p,this.attachInternals())}connectedCallback(){super.connectedCallback(),this.target&&!this.targetElement&&(this.targetElement=F(this,this.target)??void 0)}firstUpdated(){a(this,e,R).call(this),a(this,e,_).call(this)}willUpdate(t){t.has("disabled")&&a(this,e,w).call(this),t.has("target")&&this.hasUpdated&&a(this,e,V).call(this),t.has("targetElement")&&a(this,e,H).call(this)}render(){return tt`
      <div
        class="forge-button-area"
        part="root"
        ${P(i(this,g))}
        @click=${i(this,O)}
        @keydown=${i(this,W)}
        @pointerdown=${i(this,B)}>
        <div id="button" class="button" part="button" .hidden=${!!this.targetElement} @slotchange=${i(this,$)}>
          <slot name="button"></slot>
        </div>
        <slot @click=${i(this,v)} @pointerdown=${i(this,v)} @pointerup=${i(this,v)}></slot>
        <forge-state-layer exportparts="surface:state-layer" ${P(i(this,l))}></forge-state-layer>
        <forge-focus-indicator target="button" part="focus-indicator" inward ${P(i(this,n))}></forge-focus-indicator>
      </div>
    `}disconnectedCallback(){super.disconnectedCallback(),a(this,e,C).call(this)}};p=new WeakMap;b=new WeakMap;g=new WeakMap;l=new WeakMap;n=new WeakMap;e=new WeakSet;L=function(){return this._slottedButtonElements[0]};y=function(){return this.targetElement&&(a(this,e,u).call(this,this.targetElement)||a(this,e,f).call(this,this.targetElement))?this.targetElement:i(this,e,L)};f=function(t){return t instanceof HTMLAnchorElement};u=function(t){return t!=null&&"disabled"in t&&typeof t.disabled=="boolean"};O=new WeakMap;W=new WeakMap;B=new WeakMap;v=new WeakMap;$=new WeakMap;V=function(){this.target&&(this.targetElement=F(this,this.target)??void 0)};H=function(){a(this,e,D).call(this),a(this,e,_).call(this)};D=function(){a(this,e,C).call(this),a(this,e,R).call(this)};_=function(){const t=i(this,e,y);t&&(this.targetElement?i(this,n).value?.remove():!this.disabled&&i(this,n).value&&!i(this,n).value.isConnected&&i(this,g).value?.append(i(this,n).value),a(this,e,u).call(this,t)?t.disabled?this.disabled=!0:this.disabled&&a(this,e,w).call(this):this.disabled&&a(this,e,w).call(this),a(this,e,N).call(this,t),a(this,e,I).call(this,t))};w=function(){const t=i(this,e,y);if(this.disabled&&a(this,e,f).call(this,t)&&console.warn("Button area disabled property is set to true while associated with an anchor element. Anchor elements cannot be disabled."),t?.isConnected&&a(this,e,u).call(this,t)&&t.toggleAttribute("disabled",this.disabled),T(i(this,p),"disabled",this.disabled&&!a(this,e,f).call(this,t)),!this.disabled||a(this,e,f).call(this,t)){i(this,l).value&&!i(this,l).value.isConnected&&i(this,g).value?.append(i(this,l).value),!this.targetElement&&i(this,n).value&&!i(this,n).value.isConnected&&i(this,g).value?.append(i(this,n).value);return}this.disabled&&(i(this,n).value?.remove(),i(this,l).value?.remove())};I=function(t){if(!t?.isConnected)return;const r=t.getAttribute("aria-pressed")==="true";T(i(this,p),"pressed",r)};N=function(t){if(!t?.isConnected)return;const s=t.getAttribute("aria-current"),c=s!==null&&["true","page","step","location","date","time"].includes(s);T(i(this,p),"current",c)};R=function(){const t=i(this,e,y);t?.isConnected&&(x(this,b,new MutationObserver(s=>{if(!t?.isConnected){a(this,e,K).call(this);return}s.forEach(r=>{switch(r.attributeName){case"aria-current":a(this,e,N).call(this,t);break;case"aria-pressed":a(this,e,I).call(this,t);break;case"disabled":a(this,e,u).call(this,t)&&(this.disabled=t.disabled??!1);break}})})),i(this,b).observe(t,{attributeFilter:["aria-current","aria-pressed","disabled"]}))};C=function(){i(this,b)?.disconnect(),x(this,b,void 0)};K=function(){a(this,e,C).call(this),this.targetElement&&(this.targetElement=void 0),a(this,e,_).call(this)};Y=function(){i(this,l).value?.playAnimation()};J=function(){const t=i(this,e,L);t&&a(this,e,u).call(this,t)&&(t.disabled=!0,requestAnimationFrame(()=>{t&&a(this,e,u).call(this,t)&&(t.disabled=!1)}))};m=function(t){return X(t).some(r=>r.nodeType===1&&(r.hasAttribute("forge-ignore")||r.hasAttribute("data-forge-ignore")))};h.styles=j(st);h[G]=Q;E([S({type:Boolean,reflect:!0})],h.prototype,"disabled",2);E([S({type:String})],h.prototype,"target",2);E([S({attribute:!1})],h.prototype,"targetElement",2);E([at({slot:"button",selector:"button, a"})],h.prototype,"_slottedButtonElements",2);h=E([et(Q)],h);
