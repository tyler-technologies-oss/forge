import{g as Y}from"./event-utils-C1SDeUaq.js";import{C as H}from"./service-adapter-CffG5Lhq.js";import{r as J,b as Q}from"./iframe-B5XvQRU6.js";import{n as B,t as X}from"./property-Couz3Ovy.js";import{o as Z}from"./query-assigned-elements-43hYArgI.js";import{n as A,e as M}from"./ref-CvJ6FY9G.js";import{B as j}from"./base-lit-element-CGVJzDwD.js";import{b as R,t as z}from"./utils-DU-9AqTO.js";const tt=":host{display:block;position:relative}:host .forge-button-area{cursor:var(--_button-area-cursor)}:host([hidden]){display:none}:host(:state(disabled)) .forge-button-area{cursor:var(--_button-area-disabled-cursor)}:host(:where(:state(pressed),:state(current))) .forge-button-area{background-color:var(--_button-area-selected-color)}.forge-button-area{--_button-area-primary-color: var(--forge-button-area-primary-color, var(--forge-theme-primary, #3f51b5));--_button-area-cursor: var(--forge-button-area-cursor, pointer);--_button-area-shape: var(--forge-button-area-shape, calc(var(--forge-shape-extra-small, 1px) * var(--forge-shape-factor, 1)));--_button-area-selected-color: var(--forge-button-area-selected-color, var(--forge-theme-primary-container, #d1d5ed));--_button-area-disabled-cursor: var(--forge-button-area-disabled-cursor, not-allowed);--_button-area-focus-indicator-color: var(--forge-button-area-focus-indicator-color, var(--forge-theme-primary, #3f51b5));--_button-area-focus-indicator-offset: var(--forge-button-area-focus-indicator-offset, 4px)}.forge-button-area{position:relative;overflow:hidden;block-size:100%;inline-size:100%;border-radius:var(--_button-area-shape)}.forge-button-area .button{position:absolute;inline-size:100%;block-size:100%;clip:rect(0 0 0 0);clip-path:inset(50%);overflow:hidden;pointer-events:none}.forge-button-area .button ::slotted(:is(button)){position:absolute;inline-size:100%;block-size:100%;margin:0;padding:0;border:none;outline:none}forge-focus-indicator{z-index:1;--forge-focus-indicator-color: var(--_button-area-focus-indicator-color);--forge-focus-indicator-outward-offset: var(--_button-area-focus-indicator-offset);--forge-focus-indicator-shape: var(--_button-area-shape)}forge-state-layer{--forge-state-layer-color: var(--_button-area-primary-color);border-radius:inherit}";var et=Object.defineProperty,at=Object.getOwnPropertyDescriptor,U=t=>{throw TypeError(t)},w=(t,i,r,u)=>{for(var f=u>1?void 0:u?at(i,r):i,k=t.length-1,P;k>=0;k--)(P=t[k])&&(f=(u?P(i,r,f):P(f))||f);return u&&f&&et(i,r,f),f},x=(t,i,r)=>i.has(t)||U("Cannot "+r),e=(t,i,r)=>(x(t,i,"read from private field"),r?r.call(t):i.get(t)),o=(t,i,r)=>i.has(t)?U("Cannot add the same private member more than once"):i instanceof WeakSet?i.add(t):i.set(t,r),I=(t,i,r,u)=>(x(t,i,"write to private field"),i.set(t,r),r),s=(t,i,r)=>(x(t,i,"access private method"),r),D,L,b,g,d,p,l,a,h,n,O,W,S,v,$,N,F,T,m,y,C,E,q,G,V,_;const K="forge-button-area";let c=class extends(L=j,D=H,L){constructor(){super(),o(this,a),o(this,b),this.disabled=!1,this.target=void 0,this.targetElement=void 0,o(this,g),o(this,d,M()),o(this,p,M()),o(this,l,M()),o(this,O,t=>{this.disabled&&t.stopPropagation();const i=window.getSelection();i?.type==="Range"&&i?.toString().trim()!==""&&t.stopPropagation(),s(this,a,_).call(this,t)&&t.stopPropagation()}),o(this,W,t=>{t.key!==" "&&t.key!=="Enter"||(s(this,a,_).call(this,t)?t.stopPropagation():s(this,a,G).call(this))}),o(this,S,t=>{this.disabled||s(this,a,_).call(this,t)&&s(this,a,V).call(this)}),o(this,v,t=>{this.disabled||s(this,a,_).call(this,t)&&t.stopPropagation()}),o(this,$,()=>{this.targetElement||(s(this,a,E).call(this),s(this,a,C).call(this),e(this,a,h)?.disabled?this.disabled=!0:this.disabled&&e(this,a,h)?.toggleAttribute("disabled",!0),s(this,a,m).call(this,e(this,a,n)),s(this,a,y).call(this,e(this,a,n)))}),I(this,b,this.attachInternals())}connectedCallback(){super.connectedCallback(),this.target&&!this.targetElement&&(this.targetElement=R(this,this.target)??void 0)}firstUpdated(){s(this,a,C).call(this),e(this,a,n)?.disabled?this.disabled=!0:this.disabled&&s(this,a,T).call(this),s(this,a,m).call(this,e(this,a,n)),s(this,a,y).call(this,e(this,a,n))}willUpdate(t){t.has("disabled")&&(s(this,a,T).call(this),z(e(this,b),"disabled",this.disabled)),t.has("target")&&this.hasUpdated&&s(this,a,N).call(this),t.has("targetElement")&&s(this,a,F).call(this)}render(){return Q`
      <div
        class="forge-button-area"
        part="root"
        ${A(e(this,d))}
        @click=${e(this,O)}
        @keydown=${e(this,W)}
        @pointerdown=${e(this,S)}>
        <div id="button" class="button" part="button" @slotchange=${e(this,$)}>
          <slot name="button"></slot>
        </div>
        <slot @click=${e(this,v)} @pointerdown=${e(this,v)} @pointerup=${e(this,v)}></slot>
        <forge-state-layer exportparts="surface:state-layer" ${A(e(this,p))}></forge-state-layer>
        <forge-focus-indicator target="button" part="focus-indicator" inward ${A(e(this,l))}></forge-focus-indicator>
      </div>
    `}disconnectedCallback(){super.disconnectedCallback(),s(this,a,E).call(this)}};b=new WeakMap;g=new WeakMap;d=new WeakMap;p=new WeakMap;l=new WeakMap;a=new WeakSet;h=function(){return this._buttonElements[0]};n=function(){return this.targetElement&&"disabled"in this.targetElement&&typeof this.targetElement.disabled=="boolean"?this.targetElement:e(this,a,h)};O=new WeakMap;W=new WeakMap;S=new WeakMap;v=new WeakMap;$=new WeakMap;N=function(){this.target&&(this.targetElement=R(this,this.target)??void 0)};F=function(){s(this,a,E).call(this),s(this,a,C).call(this),this.targetElement?e(this,l).value?.remove():!this.disabled&&e(this,l).value&&e(this,d).value&&e(this,d).value.append(e(this,l).value);const t=e(this,a,n);t&&(this.disabled=t.disabled??!1,s(this,a,m).call(this,t),s(this,a,y).call(this,t))};T=function(){const t=e(this,a,n);t?.isConnected&&t.toggleAttribute("disabled",this.disabled),this.disabled?(e(this,l).value?.remove(),e(this,p).value?.remove()):e(this,p).value&&e(this,d).value&&(e(this,d).value.append(e(this,p).value),!this.targetElement&&e(this,l).value&&e(this,d).value.append(e(this,l).value))};m=function(t){if(!t?.isConnected)return;const r=t.getAttribute("aria-pressed")==="true";z(e(this,b),"pressed",r)};y=function(t){if(!t?.isConnected)return;const i=t.getAttribute("aria-current"),u=i!==null&&["true","page","step","location","date","time"].includes(i);z(e(this,b),"current",u)};C=function(){const t=e(this,a,n);t?.isConnected&&(I(this,g,new MutationObserver(()=>{const i=e(this,a,n);if(!i?.isConnected){s(this,a,q).call(this);return}this.disabled=i.disabled??!1,s(this,a,m).call(this,i),s(this,a,y).call(this,i)})),e(this,g).observe(t,{attributeFilter:["disabled","aria-pressed","aria-current"]}))};E=function(){e(this,g)?.disconnect(),I(this,g,void 0)};q=function(){s(this,a,E).call(this),this.targetElement&&(this.targetElement=void 0)};G=function(){e(this,p).value?.playAnimation()};V=function(){e(this,a,h)&&(e(this,a,h).disabled=!0,requestAnimationFrame(()=>{e(this,a,h)&&(e(this,a,h).disabled=!1)}))};_=function(t){return Y(t).some(r=>r.nodeType===1&&(r.hasAttribute("forge-ignore")||r.hasAttribute("data-forge-ignore")))};c.styles=J(tt);c[D]=K;w([B({type:Boolean,reflect:!0})],c.prototype,"disabled",2);w([B({type:String})],c.prototype,"target",2);w([B({attribute:!1})],c.prototype,"targetElement",2);w([Z({slot:"button",selector:"button"})],c.prototype,"_buttonElements",2);c=w([X(K)],c);
