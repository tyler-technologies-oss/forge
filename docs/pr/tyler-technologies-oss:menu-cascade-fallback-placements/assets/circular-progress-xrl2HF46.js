import{C as h,l as m,s as p,B as u,k as f,j as _}from"./constants-wOq9K3uV.js";import{B as v,c as n}from"./base-adapter-Mla2Q9YN.js";import{c as d,b}from"./feature-detection-uS6p5jc8.js";import{W as k,a as E}from"./with-default-aria-CUUWGrPB.js";const T=`${h}circular-progress`,y={DETERMINATE:"determinate",PROGRESS:"progress",THEME:"theme",TRACK:"track"},R={INDETERMINATE:"forge-circular-progress--indeterminate"},C={ROOT:".forge-circular-progress",DETERMINATE_PROGRESS_CIRCLE:".progress",TEMPLATES:"svg, .spinner"},e={elementName:T,attributes:y,classes:R,selectors:C},A=`<svg viewBox="0 0 4800 4800">
  <circle class="track-background" pathLength="100"></circle>
</svg>

<div class="spinner">
  <div class="left">
    <div class="circle"></div>
  </div>
  <div class="right">
    <div class="circle"></div>
  </div>
</div>
`,w=`<svg viewBox="0 0 4800 4800">
  <circle class="track-background" pathLength="100"></circle>
  <circle class="track" pathLength="100"></circle>
  <circle class="progress" pathLength="100" stroke-dashoffset="100"></circle>
</svg>
`;class P extends v{constructor(r){super(r),this._rootElement=m(this._component,e.selectors.ROOT)}initialize(){this._component[p]({role:"progressbar",ariaValueMin:"0",ariaValueMax:"1"})}setDeterminate(r){this._tryResetTemplate(),this._rootElement.classList.toggle(e.classes.INDETERMINATE,!r),r?(this._rootElement.insertAdjacentHTML("beforeend",w),this._determinateProgressCircleElement=m(this._component,e.selectors.DETERMINATE_PROGRESS_CIRCLE)):(this._rootElement.insertAdjacentHTML("beforeend",A),this._component[p]({ariaValueNow:null}),this._determinateProgressCircleElement=void 0)}setProgress(r){var t;this._component[p]({ariaValueNow:`${r}`}),(t=this._determinateProgressCircleElement)==null||t.setAttribute("stroke-dashoffset",`${(1-r)*100}`)}_tryResetTemplate(){var t;const r=(t=this._component.shadowRoot)==null?void 0:t.querySelectorAll(e.selectors.TEMPLATES);r==null||r.forEach(o=>o.remove())}}class N{constructor(r){this._adapter=r,this._determinate=!1,this._progress=0,this._theme="primary",this._track=!1}initialize(){this._adapter.tryApplyGlobalConfiguration(["track"]),this._adapter.initialize(),this._applyDeterminate()}_applyDeterminate(){this._adapter.setDeterminate(this._determinate),this._determinate&&this._adapter.setProgress(this._progress)}get determinate(){return this._determinate}set determinate(r){r=!!r,this._determinate!==r&&(this._determinate=r,this._applyDeterminate(),this._adapter.toggleHostAttribute(e.attributes.DETERMINATE,this._determinate))}get progress(){return this._progress}set progress(r){isNaN(r)&&(r=0),this._progress!==r&&(this._progress=r,this._determinate&&this._adapter.setProgress(this._progress),this._adapter.setHostAttribute(e.attributes.PROGRESS,`${this._progress}`))}get theme(){return this._theme}set theme(r){this._theme!==r&&(this._theme=r,this._adapter.toggleHostAttribute(e.attributes.THEME,!!this._theme,this._theme))}get track(){return this._track}set track(r){r=!!r,this._track!==r&&(this._track=r,this._adapter.toggleHostAttribute(e.attributes.TRACK,this._track))}}const S=`<template>
  <div class="forge-circular-progress" part="progressbar">
    <slot class="center-content"></slot>
  </div>
</template>
`,M=":host{--_circular-progress-size: var(--forge-circular-progress-size, 48px)}:host{display:inline-flex;vertical-align:middle;block-size:var(--_circular-progress-size);inline-size:var(--_circular-progress-size);position:relative;align-items:center;justify-content:center;transition:background-color var(--_circular-progress-theme-transition-duration) var(--_circular-progress-theme-transition-timing);contain:strict;content-visibility:auto}:host([hidden]){display:none}.forge-circular-progress{--_circular-progress-padding: var(--forge-circular-progress-padding, 0);--_circular-progress-track-width: var(--forge-circular-progress-track-width, 12);--_circular-progress-track-color: var(--forge-circular-progress-track-color, transparent);--_circular-progress-track-fill-color: var(--forge-circular-progress-track-fill-color, var(--forge-theme-tertiary-container, #d0d7ff));--_circular-progress-indicator-color: var(--forge-circular-progress-indicator-color, var(--forge-theme-tertiary, #3d5afe));--_circular-progress-arc-duration: var(--forge-circular-progress-arc-duration, 1333ms);--_circular-progress-theme-transition-duration: var(--forge-circular-progress-theme-transition-duration, var(--forge-animation-duration-short3, .15s));--_circular-progress-theme-transition-timing: var(--forge-circular-progress-theme-transition-timing, var(--forge-animation-easing-standard, cubic-bezier(.2, 0, 0, 1)))}.forge-circular-progress{flex:1;align-self:stretch;margin:var(--_circular-progress-padding)}.forge-circular-progress--indeterminate{will-change:transform;animation:linear infinite linear-rotate;animation-duration:calc(var(--_circular-progress-arc-duration) * 360 / 306)}.forge-circular-progress,.spinner,.left,.right,.circle,svg{position:absolute;top:0;right:0;bottom:0;left:0}.center-content{display:flex;justify-content:center;align-items:center;width:100%;height:100%}.left{overflow:hidden;top:0;right:50%;bottom:0;left:0}.left .circle{rotate:135deg;top:0;right:-100%;bottom:0;left:0}.right{overflow:hidden;top:0;right:0;bottom:0;left:50%}.right .circle{rotate:100deg;top:0;right:0;bottom:0;left:-100%;animation-delay:calc(-.5 * var(--_circular-progress-arc-duration)),0ms}.circle{box-sizing:border-box;border-radius:50%;border:solid calc(var(--_circular-progress-size) * var(--_circular-progress-track-width) / 100);border-color:var(--_circular-progress-indicator-color) var(--_circular-progress-indicator-color) transparent transparent;transition:border-color var(--_circular-progress-theme-transition-duration) var(--_circular-progress-theme-transition-timing);will-change:transform;animation:expand-arc;animation-iteration-count:infinite;animation-fill-mode:both;animation-duration:var(--_circular-progress-arc-duration),calc(4 * var(--_circular-progress-arc-duration));animation-timing-function:cubic-bezier(.4,0,.2,1)}svg{transform:rotate(-90deg)}svg circle{cx:50%;cy:50%;r:calc(50% * (1 - var(--_circular-progress-track-width) / 100));stroke-width:calc(var(--_circular-progress-track-width) * 1%);stroke-dasharray:100;fill:transparent}.progress{transition:stroke-dashoffset .5s cubic-bezier(0,0,.2,1),stroke var(--_circular-progress-theme-transition-duration) var(--_circular-progress-theme-transition-timing);stroke:var(--_circular-progress-indicator-color)}.track{stroke:transparent}.track-background{transition:stroke var(--_circular-progress-theme-transition-duration) var(--_circular-progress-theme-transition-timing);stroke:var(--_circular-progress-track-color)}.spinner{will-change:transform;animation:infinite both rotate-arc;animation-duration:calc(4 * var(--_circular-progress-arc-duration));animation-timing-function:cubic-bezier(.4,0,.2,1)}:host(:is([track],[determinate])) .forge-circular-progress{--_circular-progress-track-color: var(--_circular-progress-track-fill-color)}:host([theme=primary]) .forge-circular-progress{--_circular-progress-indicator-color: var(--forge-circular-progress-indicator-color, var(--forge-theme-primary, #3f51b5))}:host([theme=primary]:is([track],[determinate])) .forge-circular-progress{--_circular-progress-track-color: var(--forge-circular-progress-track-color, var(--forge-theme-primary-container, #d1d5ed))}:host([theme=secondary]) .forge-circular-progress{--_circular-progress-indicator-color: var(--forge-circular-progress-indicator-color, var(--forge-theme-secondary, #ffc107))}:host([theme=secondary]:is([track],[determinate])) .forge-circular-progress{--_circular-progress-track-color: var(--forge-circular-progress-track-color, var(--forge-theme-secondary-container, #fff0c3))}:host([theme=success]) .forge-circular-progress{--_circular-progress-indicator-color: var(--forge-circular-progress-indicator-color, var(--forge-theme-success, #2e7d32))}:host([theme=success]:is([track],[determinate])) .forge-circular-progress{--_circular-progress-track-color: var(--forge-circular-progress-track-color, var(--forge-theme-success-container, #cde0ce))}:host([theme=error]) .forge-circular-progress{--_circular-progress-indicator-color: var(--forge-circular-progress-indicator-color, var(--forge-theme-error, #b00020))}:host([theme=error]:is([track],[determinate])) .forge-circular-progress{--_circular-progress-track-color: var(--forge-circular-progress-track-color, var(--forge-theme-error-container, #ecc2c9))}:host([theme=warning]) .forge-circular-progress{--_circular-progress-indicator-color: var(--forge-circular-progress-indicator-color, var(--forge-theme-warning, #d14900))}:host([theme=warning]:is([track],[determinate])) .forge-circular-progress{--_circular-progress-track-color: var(--forge-circular-progress-track-color, var(--forge-theme-warning-container, #f4d3c2))}:host([theme=info]) .forge-circular-progress{--_circular-progress-indicator-color: var(--forge-circular-progress-indicator-color, var(--forge-theme-info, #1565c0))}:host([theme=info]:is([track],[determinate])) .forge-circular-progress{--_circular-progress-track-color: var(--forge-circular-progress-track-color, var(--forge-theme-info-container, #c7daf0))}@media screen and (forced-colors: active){.progress{stroke:CanvasText}.circle{border-color:CanvasText CanvasText Canvas Canvas}}@keyframes expand-arc{0%{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes rotate-arc{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}to{transform:rotate(1080deg)}}@keyframes linear-rotate{to{transform:rotate(360deg)}}";var x=Object.defineProperty,O=Object.getOwnPropertyDescriptor,c=(s,r,t,o)=>{for(var a=o>1?void 0:o?O(r,t):r,l=s.length-1,g;l>=0;l--)(g=s[l])&&(a=(o?g(r,t,a):g(a))||a);return o&&a&&x(r,t,a),a};let i=class extends k(E(u)){static get observedAttributes(){return[e.attributes.DETERMINATE,e.attributes.PROGRESS,e.attributes.THEME,e.attributes.TRACK]}constructor(){super(),f(this,S,M),this._core=new N(new P(this))}connectedCallback(){this._core.initialize()}attributeChangedCallback(s,r,t){switch(s){case e.attributes.DETERMINATE:this.determinate=d(t);break;case e.attributes.PROGRESS:this.progress=b(t);break;case e.attributes.THEME:this.theme=t;break;case e.attributes.TRACK:this.track=d(t);break}}};c([n()],i.prototype,"determinate",2);c([n()],i.prototype,"progress",2);c([n()],i.prototype,"theme",2);c([n()],i.prototype,"track",2);i=c([_({name:e.elementName})],i);export{i as C};
