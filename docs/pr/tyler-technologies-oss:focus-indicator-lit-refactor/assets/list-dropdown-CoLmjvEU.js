import{Q as V,R as D,S as H,I as U}from"./icon-eJOvSyyv.js";import{A as $,j as b,B as j,h as R,C as W,D as y,d as T,r as z,a as q,E as P,F as G}from"./feature-detection-tRmgbRLz.js";import{g as K}from"./event-utils-C1SDeUaq.js";import{S,e as E}from"./service-adapter-BykFeYYZ.js";import{I as X,n as Q,l as N}from"./constants-BGCYAxRd.js";import{L as Y}from"./linear-progress-BTaob5x2.js";import{b as J,c as Z}from"./list-CwxN3dUl.js";import{a as v}from"./popover-BWs500m1.js";import"./overlay-DWLd4_Vp.js";import"./index-CiLSBptl.js";import{S as tt}from"./skeleton-fsmWNbya.js";import{c as et}from"./a11y-BxM9_46k.js";class it{constructor(){this._listenerMap=new Map}_emit(t,e){const s=this._listenerMap.get(t);s&&s.length&&s.forEach(n=>n({type:t,data:e}))}hasListeners(t){return t?this._listenerMap.has(t):this._listenerMap.size>0}addListener(t,e){if(!this._listenerMap.has(t))this._listenerMap.set(t,[e]);else{const s=this._listenerMap.get(t);s&&s.push(e)}}removeListener(t,e){const s=this._listenerMap.get(t);s&&s.length&&s.includes(e)&&(s.splice(s.indexOf(e),1),s.length||this._listenerMap.delete(t))}}const st=100;class nt extends it{constructor(t,e={}){super(),this._element=t,this._config=e,this._axis="vertical",this._scrollThreshold=0,this._lastScrollPosition=0,this._lastScrollTop=0,this._lastScrollLeft=0,this._isListening=!1,this._initialize()}destroy(){this.stop()}start(){this._isListening||(this._element.addEventListener("scroll",this._scrollListener),this._isListening=!0)}stop(){this._element.removeEventListener("scroll",this._scrollListener),this._isListening=!1}_initialize(){if(this._config.throttle){const t=this._config.throttleTime||st;this._scrollListener=$(()=>this._onScroll(),t)}else this._scrollListener=()=>this._onScroll();(!b(this._config.paused)||!this._config.paused)&&this.start(),b(this._config.axis)&&(this._axis=this._config.axis),b(this._config.scrollThreshold)&&j(this._config.scrollThreshold)&&(this._scrollThreshold=this._config.scrollThreshold)}_isScrollAxis(){const t=this._lastScrollTop!==this._element.scrollTop,e=this._lastScrollLeft!==this._element.scrollLeft;return this._axis==="vertical"&&t||this._axis==="horizontal"&&e}_onScroll(){if(!this._isScrollAxis())return;const t=this.scrollPosition,e=this._lastScrollPosition-t<0?this._axis==="vertical"?S.Down:S.Right:this._axis==="vertical"?S.Up:S.Left;this._emit(E.Scroll,{direction:e,position:t}),this._lastScrollPosition<=this._scrollThreshold&&t>this._scrollThreshold?this._emit(E.Scrolled,!0):this._lastScrollPosition>=this._scrollThreshold&&(this._scrollThreshold>0?t<this._scrollThreshold:t===0)&&this._emit(E.Scrolled,!1);const s=Math.round(t-this._scrollThreshold),n=Math.round(this.scrollSize-t);this._lastScrollPosition>=this._scrollThreshold&&s<=0?this._emit(E.ScrolledStart):this._lastScrollPosition<=this.scrollSize-this._scrollThreshold&&n<=this._scrollThreshold&&this._emit(E.ScrolledEnd),this._lastScrollPosition=t||0,this._lastScrollTop=this._element.scrollTop||0,this._lastScrollLeft=this._element.scrollLeft||0}get scrollPosition(){return this._axis==="vertical"?this._element.scrollTop:this._element.scrollLeft}get isScrolled(){return this.scrollPosition>this._scrollThreshold}get isScrolledStart(){return this.scrollPosition===0}get isScrolledEnd(){return this.scrollPosition===this._element.scrollWidth}get isScrollable(){return this._axis==="vertical"?this._element.scrollHeight>this._element.clientHeight:this._element.scrollWidth>this._element.clientWidth}get scrollSize(){return(this._axis==="vertical"?this._element.scrollHeight:this._element.scrollWidth)-this.elementSize}get elementSize(){return this._axis==="vertical"?this._element.clientHeight:this._element.clientWidth}setScrollPosition(t){this._axis==="vertical"?this._element.scrollTop=t:this._element.scrollLeft=t}}const ot={POPUP_CLASSES:"popup-classes",OPTION_LIMIT:"option-limit",OBSERVE_SCROLL:"observe-scroll",OBSERVE_SCROLL_THRESHOLD:"observe-scroll-threshold",SYNC_POPUP_WIDTH:"sync-popup-width",CONSTRAIN_POPUP_WIDTH:"constrain-popup-width",WRAP_OPTION_TEXT:"wrap-option-text",POPOVER_PLACEMENT:"popover-placement",POPOVER_OFFSET:"popover-offset",POPOVER_FLIP:"popover-flip",POPOVER_SHIFT:"popover-shift"},lt={CHECKBOX_ELEMENT:"data-list-dropdown-checkbox",DATA_ALLOW_FOCUS:"data-list-dropdown-allow-focus"},rt={GROUP_WRAPPER:"forge-list-dropdown__group-wrapper"},g={observedAttributes:ot,attributes:lt,classes:rt},at={options:[],syncWidth:!1,selectedValues:[],multiple:!1};var u=(i=>(i.None="none",i.Standard="standard",i.Menu="menu",i))(u||{}),M=(i=>(i.Spinner="spinner",i.Skeleton="skeleton",i))(M||{}),ct=(i=>(i[i.Option=0]="Option",i[i.Group=1]="Group",i))(ct||{});function dt(i,t){const e=ht(i,t),s=`list-dropdown-popup-${i.id}`;return e.addEventListener("mousedown",n=>{const r=K(n);if(r.find(m=>m.nodeType===1&&m.hasAttribute(g.attributes.DATA_ALLOW_FOCUS)))return;r.find(m=>m.id===s||m.id===i.id)&&n.preventDefault()}),i.id&&(e.id=s),i.popupClasses&&R(i.popupClasses,e),e}function ht(i,t){var s;const e=document.createElement("forge-popover");return e.anchorElement=t,e.placement=i.popupPlacement||"bottom-start",e.persistent=!!i.popupStatic,e.triggerType="manual",(s=i.popupFallbackPlacements)!=null&&s.length&&(e.fallbackPlacements=i.popupFallbackPlacements),i.constrainViewportWidth&&e.setAttribute(v.attributes.CONSTRAIN_VIEWPORT_WIDTH,""),i.popupOffset&&(e.offset=i.popupOffset),i.popupFlip&&(e.flip=i.popupFlip),i.popupShift!==void 0&&(e.shift=i.popupShift),i.type===u.None&&(e.animationType="none"),e}function pt(i){var e;const t=document.createElement(J.elementName);switch(t.id=`list-dropdown-list-${i.id}`,i.type){case u.Menu:t.setAttribute("role","menu"),t.setAttribute("aria-orientation","vertical");break;default:t.setAttribute("role","listbox")}return i.type!==u.Menu&&i.multiple&&t.setAttribute("aria-multiselectable","true"),(e=i==null?void 0:i.referenceElement)!=null&&e.id&&t.setAttribute("aria-labelledby",i.referenceElement.id),t}function A(i,t,e,s=0,n=!0){const r=gt(e||i.options),d=F(r),p=!!i.optionLimit;let m=i.optionLimit||0,I=s;for(const f of r){let L=t;if(f.builder&&typeof f.builder=="function"){const o=f.builder(f);if(o){const c=document.createElement("div");c.classList.add(g.classes.GROUP_WRAPPER),L=c,typeof o=="string"?c.innerHTML=o:o instanceof HTMLElement&&c.appendChild(o),t.appendChild(c)}}else if(f.text){const o=document.createElement("div");o.classList.add(g.classes.GROUP_WRAPPER);const c=document.createElement("div");c.textContent=f.text,c.classList.add("forge-typography--overline"),c.style.fontFamily="Roboto,sans-serif",c.style.fontSize="0.75rem",c.style.lineHeight="2rem",c.style.letterSpacing="0.16667em",c.style.fontWeight="500",c.style.margin="4px 8px",L=o,o.appendChild(c),t.appendChild(o)}for(const o of f.options){if(o.divider){const l=mt();t.appendChild(l);continue}if(p&&--m<0)break;const c=i.selectedValues?i.selectedValues.some(l=>W(l,o.value)):!1;if(!n&&c)continue;let a=document.createElement("forge-list-item");a.value=o.value,a.focusPropagation="off",a.setAttribute("role","presentation");const h=document.createElement("button");if(h.type="button",h.id=`list-dropdown-option-${i.id}-${I++}`,h.setAttribute("role",i.type==="menu"?"menuitem":"option"),a.appendChild(h),i.wrapOptionText&&(a.wrap=!0),o.optionClass&&(typeof o.optionClass=="string"||Array.isArray(o.optionClass)&&o.optionClass.length)&&R(o.optionClass,a),i.dense&&(a.dense=!0),i.optionBuilder&&typeof i.optionBuilder=="function"){const l=i.optionBuilder(o,a);l&&(typeof l=="string"?h.innerHTML=l:h.appendChild(l))}else if(typeof i.transform!="function")h.textContent=o.label||"";else{const l=i.transform(o.label);typeof l=="string"?h.textContent=l:typeof l=="object"&&l.nodeType!==void 0&&h.appendChild(l)}if(o.tooltip){const{text:l,type:O="presentation",...w}=o.tooltip,_=document.createElement("forge-tooltip");if(_.id=`list-dropdown-option-${i.id}-${I++}-tooltip`,_.textContent=o.tooltip.text,!o.tooltip.anchor&&!o.tooltip.anchorElement&&(_.anchorElement=a),O==="label"||O==="description"){const C=O==="label"?"aria-labelledby":"aria-describedby";h.setAttribute(C,_.id)}Object.assign(_,w),a.appendChild(_)}if(o.secondaryLabel){const l=document.createElement("span");l.slot="secondary-text",l.textContent=o.secondaryLabel,l.id=`list-dropdown-option-${i.id}-${I++}-secondary`,a.twoLine=!0,a.appendChild(l),h.setAttribute("aria-describedby",l.id)}if(i.multiple){const l=x(c);a.appendChild(l),o.disabled||h.setAttribute("aria-selected",`${c}`),h.setAttribute("aria-checked",`${c}`)}if(o.elementAttributes&&o.elementAttributes.forEach((l,O)=>{a.setAttribute(O,l)}),o.leadingBuilder){const l=o.leadingBuilder();y(l)&&(l.slot="leading",a.appendChild(l))}else if(o.leadingIcon){const l=B(o.leadingIconType,o.leadingIcon,o.leadingIconClass||i.iconClass,o.leadingIconComponentProps);l.slot="leading",a.appendChild(l)}if(o.trailingBuilder){const l=o.trailingBuilder();y(l)&&(l.slot="trailing",a.appendChild(l))}else if(o.trailingIcon){const l=B(o.trailingIconType,o.trailingIcon,o.trailingIconClass||i.iconClass,o.trailingIconComponentProps);l.slot="trailing",a.appendChild(l)}if(o.disabled&&(h.disabled=o.disabled),c&&(a.selected=!0),i.type!==u.Menu&&h.setAttribute("aria-selected",c?"true":"false"),!o.disabled&&typeof i.cascadingElementFactory=="function"&&Array.isArray(o.options)&&o.options.length){const l=document.createElement("forge-icon");l.name="arrow_right_alt",l.slot="trailing",a.appendChild(l);const w={index:d.filter(C=>!C.divider).indexOf(o),options:o.options,parentValue:o.value},_=i.cascadingElementFactory.call(null,w);_.appendChild(a),a=_}L.appendChild(a)}}}function x(i){const t=document.createElement("forge-icon");return t.setAttribute(g.attributes.CHECKBOX_ELEMENT,""),t.name=i?V.name:D.name,t.slot="leading",t.style.marginRight="16px",t.style.verticalAlign="middle",t}function mt(){return document.createElement("forge-divider")}function B(i="font",t,e,s){if(i==="component"){const r=document.createElement("forge-icon");return e&&r.classList.add(e),r.setAttribute("aria-hidden","true"),r.name=t,s&&Object.assign(r,s),r}const n=document.createElement("i");return n.classList.add(e||X),n.setAttribute("aria-hidden","true"),n.textContent=t,n}function _t(i){switch(i){case M.Skeleton:return ft();default:return ut()}}function ut(){const i=document.createElement("div");i.style.display="flex",i.style.justifyContent="center",i.style.alignItems="center",i.style.padding="8px",i.style.boxSizing="border-box";const t=document.createElement("forge-circular-progress");return t.style.setProperty("--forge-circular-progress-size","24px"),i.appendChild(t),i}function ft(){const i=document.createElement("forge-list"),t=document.createElement("div");t.style.minWidth="192px";for(let e=0;e<3;e++){const s=document.createElement(tt.elementName);s.setAttribute("list-item",""),t.appendChild(s)}return i.appendChild(t),i}function Et(){const i=document.createElement(Y.elementName);return i.determinate=!1,i.style.position="absolute",i.style.top="0",i.style.left="0",i.style.right="0",i.style.width="100%",i}function gt(i){return k(i,1)?i:[{text:"",options:i}]}function k(i,t){const e=i.some(n=>b(n)&&y(n)&&Object.prototype.hasOwnProperty.call(n,"options")&&(Object.prototype.hasOwnProperty.call(n,"text")||Object.prototype.hasOwnProperty.call(n,"builder"))),s=i.some(n=>b(n)&&y(n)&&Object.prototype.hasOwnProperty.call(n,"label")&&Object.prototype.hasOwnProperty.call(n,"value"));return e&&t===1||s&&t===0}function F(i){return k(i,1)?i.reduce((e,s)=>e.concat(s.options),[]):[...i]}class Ot{constructor(t,e){this._adapter=t,this._open=!1,this._config=Object.assign({...at},{...e}),this._selectListener=(s,n)=>this._onSelect(s,n),this._closeListener=()=>{typeof this._config.closeCallback=="function"&&this._config.closeCallback()},this._scrollEndListener=()=>{this._config.observeScroll&&typeof this._config.scrollEndListener=="function"&&this._config.scrollEndListener()}}destroy(){this._adapter.remove()}open(){this._open||(this._open=!0,this._adapter.open(this._config,this._selectListener,this._closeListener),window.requestAnimationFrame(()=>{this._open&&this.activateInitialOption()}),this._config.observeScroll&&this._config.scrollEndListener&&this._adapter.setScrollBottomListener(this._scrollEndListener,this._config.observeScrollThreshold||0))}async close(){this._open&&(this._open=!1,this._config.observeScroll&&this._config.scrollEndListener&&this._adapter.removeScrollBottomListener(this._scrollEndListener),await this._adapter.close())}_onSelect(t,e){if(typeof this._config.activeChangeCallback=="function"&&this._config.activeChangeCallback(e),typeof this._config.selectCallback=="function"&&this._config.selectCallback(t),this._open){const s=this._config.syncWidth===void 0;this._adapter.syncWidth(s)}}getActiveOptionIndex(){return this._adapter.getActiveOptionIndex()}getActiveOption(){const t=this.getActiveOptionIndex();return t>=0?this._nonDividerOptions[t]:void 0}toggleOptionMultiple(t,e){return this._adapter.toggleOptionMultiple(t,e)}activateSelectedOption(){this._adapter.activateSelectedOption(this._config)}activateFirstOption(){const t=this._nonDividerOptions.findIndex(e=>!e.disabled);return t!==-1&&this.activateOption(t),t}activateLastOption(){const t=this._nonDividerOptions,e=t.length-1-t.findIndex(s=>!s.disabled);return e!==-1&&this.activateOption(e),e}activateOption(t,e){return this._adapter.activateOption(t,this._config.activeChangeCallback,e)}activateInitialOption(){typeof this._config.activeStartIndex=="number"&&this._nonDividerOptions[this._config.activeStartIndex]?(this.activateOption(this._config.activeStartIndex,!1),this._adapter.scrollSelectedOptionIntoView(!1)):this._config.selectedValues&&this._config.selectedValues.length?this._adapter.scrollSelectedOptionIntoView(!1):typeof this._config.visibleStartIndex=="number"&&this._nonDividerOptions[this._config.visibleStartIndex]&&this._adapter.scrollOptionIntoView(this._config.visibleStartIndex)}setSelectedValues(t){Array.isArray(t)||(t=[t]),!this._config.multiple&&t.length>1&&(t=[t[0]]),this._config.selectedValues=t,this._adapter.setSelectedValues(t,this._config.multiple)}clearActiveOption(){this._adapter.clearActiveOption()}setOptions(t){this._config.options=t,this._open&&(this._adapter.setOptions(this._config),this.activateInitialOption())}appendOptions(t){this._config.options=[...this._config.options,...t],this._open&&this._adapter.appendOptions(t,this._config)}get dropdownElement(){return this._adapter.dropdownElement}scrollSelectedOptionIntoView(t=!0){this._adapter.scrollSelectedOptionIntoView(t)}setScrollBottomListener(t,e){this._config.scrollEndListener=t,this._config.observeScroll=!0,this._config.observeScrollThreshold=e,this._adapter.setScrollBottomListener(this._scrollEndListener,this._config.observeScrollThreshold||0)}removeScrollBottomListener(){this._config.scrollEndListener=void 0,this._adapter.removeScrollBottomListener(this._scrollEndListener)}setBusyVisibility(t){this._config.allowBusy&&this._adapter.setBusyVisibility(t)}handleKey(t){switch(t){case"Enter":case"NumpadEnter":{const e=this.getActiveOptionIndex(),s=this._nonDividerOptions[e];if(this._canSelectOption(s)){const n=this._adapter.getActiveOptionIdByIndex(e);n&&this._onSelect(s.value,n)}break}case"Up":case"ArrowUp":case"Down":case"ArrowDown":{const e=this._nonDividerOptions;if(e.length&&e.every(n=>!this._canSelectOption(n)))return;const s=this._getNextActiveOptionIndex(t);this.activateOption(s);break}case"Home":this.activateFirstOption();break;case"End":this.activateLastOption();break}}_canSelectOption(t){return t&&!t.disabled&&!t.divider}_getNextActiveOptionIndex(t){let e=this._adapter.getActiveOptionIndex();return e===-1&&(e=this._adapter.getSelectedOptionIndex()),t==="ArrowUp"||t==="Up"?this._getPreviousHighlightableOptionIndex(e,this._nonDividerOptions):this._getNextHighlightableOptionIndex(e,this._nonDividerOptions)}_getPreviousHighlightableOptionIndex(t,e){const s=t<=0?e.length-1:t-1;return e[s].disabled?this._getPreviousHighlightableOptionIndex(s,e):s}_getNextHighlightableOptionIndex(t,e){const s=t===e.length-1?0:t+1;return e[s].disabled?this._getNextHighlightableOptionIndex(s,e):s}get _flatOptions(){return F(this._config.options)}get _nonDividerOptions(){return this._flatOptions.filter(t=>!t.divider)}}class vt{constructor(t){this._targetElement=t}get dropdownElement(){return this._dropdownElement}open(t,e,s){this._dropdownElement=dt(t,this._targetElement),t.type!==u.None&&t.type!==u.Menu?this._dropdownElement.preset="dropdown":t.type===u.Menu&&(this._dropdownElement.preset="list"),t.allowBusy&&(this._busyElement=Et(),this._busyElement.style.display="none",this._dropdownElement.appendChild(this._busyElement)),t.headerBuilder&&(this._headerElement=t.headerBuilder(),this._headerElement&&this._headerElement.setAttribute(g.attributes.DATA_ALLOW_FOCUS,"")),t.footerBuilder&&(this._footerElement=t.footerBuilder(),this._footerElement&&this._footerElement.setAttribute(g.attributes.DATA_ALLOW_FOCUS,"")),this._listElement=pt(t),this.syncWidth(!!t.syncWidth,t.targetWidthCallback),this._listElement.addEventListener("forge-list-item-select",d=>{const m=d.target.querySelector("button");m.setAttribute("aria-selected","true"),e(d.detail.value,m.id)}),t.options.length?(A(t,this._listElement),this._dropdownElement.appendChild(this._listElement),this._headerElement&&this._dropdownElement.insertAdjacentElement("afterbegin",this._headerElement),this._footerElement&&this._dropdownElement.appendChild(this._footerElement)):t.allowBusy&&(this._asyncElement=_t(t.asyncStyle),this._dropdownElement.appendChild(this._asyncElement)),this._announcerElement=et(),this._announcerElement.id=`${t.id}-activedescendant`,this._dropdownElement.appendChild(this._announcerElement);const n=this._targetElement.ownerDocument??document;(Q(v.selectors.HOST,this._targetElement)??n.body).appendChild(this._dropdownElement),this._dropdownElement.setAttribute(v.attributes.HOST,""),this._dropdownElement.open=!0}async close(){this._dropdownElement&&(await this._dropdownElement.hideAsync(),this.remove())}remove(){var t;(t=this._dropdownElement)==null||t.remove(),this._dropdownElement=void 0,this._listElement=void 0,this._announcerElement=void 0}setScrollBottomListener(t,e){if(this._dropdownElement&&!this._scrollObserver){const s={scrollThreshold:e},n=N(this._dropdownElement,v.selectors.SURFACE);this._scrollObserver=new nt(n,s),this._scrollObserver.addListener(E.ScrolledEnd,t)}}removeScrollBottomListener(t){this._scrollObserver&&this._scrollObserver.removeListener(E.ScrolledEnd,t)}getActiveOptionIndex(){if(!this._dropdownElement)return-1;const t=this._getListItemElements(),e=[...t].reverse().find(s=>s.active);return e?t.indexOf(e):-1}getSelectedOptionIndex(){return this._getListItemElements().findIndex(e=>e.selected)}getActiveOptionIdByIndex(t){if(!this._dropdownElement)return null;const s=this._getListItemElements()[t],n=s==null?void 0:s.querySelector("button");return n?n.id:null}toggleOptionMultiple(t,e){if(!this._dropdownElement)return;const s=this._getListItemElements();s.length&&s[t]&&this._toggleSelectedOption(s[t],e)}scrollOptionIntoView(t,e=!0){const s=this._getListItemElements()[t];s&&this._scrollListItemIntoView(s,e?"smooth":"auto","center")}scrollSelectedOptionIntoView(t=!0){const e=this._getSelectedListItem();this._scrollListItemIntoView(e,t?"smooth":"auto","center")}activateSelectedOption(t){const e=this._getListItemElements();e.length&&e.filter(r=>r.active).forEach(r=>r.active=!1);const s=this._getSelectedListItem();s&&this._activateListOption(s,t.activeChangeCallback)}activateOption(t,e,s=!0){if(!this._dropdownElement)return;const n=this._getListItemElements();n.length&&(n.filter(d=>d.active).forEach(d=>d.active=!1),this._activateListOption(n[t],e),this._scrollListItemIntoView(n[t],s?"smooth":"auto"))}setSelectedValues(t,e=!1){if(!this._dropdownElement)return;const s=this._getListItemElements();for(const n of s){const r=t.some(d=>W(d,n.value));if(n.selected=r,e){const d=n.querySelector(`[${g.attributes.CHECKBOX_ELEMENT}]`);if(d){const p=x(r);T(p,d)}}}}clearActiveOption(){this._getListItemElements().forEach(e=>e.active=!1)}async syncWidth(t,e){var r,d;const s=t?"--forge-popover-width":"--forge-popover-min-width",n=this._getTargetElementWidth(e);(r=this._dropdownElement)==null||r.style.setProperty(s,`${n}px`),(d=this._listElement)==null||d.style.setProperty("min-width",`calc(${n}px - var(--forge-scrollbar-width, 16px))`)}setOptions(t){!this._dropdownElement||!this._listElement||(this._asyncElement&&this._asyncElement.isConnected&&z(this._asyncElement),this._busyElement&&(this._busyElement.style.display="none"),this._listElement.isConnected||this._dropdownElement.appendChild(this._listElement),q(this._listElement),A(t,this._listElement),this._headerElement&&!this._headerElement.isConnected&&this._dropdownElement.insertAdjacentElement("afterbegin",this._headerElement),this._footerElement&&!this._footerElement.isConnected&&this._dropdownElement.insertAdjacentElement("beforeend",this._footerElement),"position"in this._dropdownElement&&typeof this._dropdownElement.position=="function"&&this._dropdownElement.position())}appendOptions(t,e){!this._dropdownElement||!this._listElement||A(e,this._listElement,t,this._listElement.childElementCount,!1)}setBusyVisibility(t){this._dropdownElement&&(t?this._busyElement.style.removeProperty("display"):this._busyElement.style.display="none")}getScreenWidth(){return window.innerWidth}_getListItemElements(){return this._dropdownElement?Array.from(this._dropdownElement.querySelectorAll(Z.elementName)):[]}_toggleSelectedOption(t,e){if(!this._dropdownElement)return;const s=this._getListItemElements();s.length&&s.filter(p=>p!==t&&p.active).forEach(p=>p.active=!1),t.selected=e;const n=t.querySelector("button");n.setAttribute("aria-selected",`${e}`),n.setAttribute("aria-checked",`${e}`);const r=t.querySelector(`${H.elementName}[slot=leading]`);if(r){const d=x(e);T(d,r)}}_getTargetElementWidth(t){return t&&P(t)?t():this._targetElement.getBoundingClientRect().width}_activateListOption(t,e){const s=t==null?void 0:t.querySelector("button");t&&s&&!s.disabled&&(t.active=!0,e&&P(e)&&e(s.id))}_scrollListItemIntoView(t,e="auto",s="nearest"){if(t&&this._dropdownElement&&this._dropdownElement.isConnected){const n=N(this._dropdownElement,v.selectors.SURFACE);n&&G(n,t,e,s)}}_getSelectedListItem(){return this._getListItemElements().find(e=>e.selected)}}class Bt{constructor(t,e){this._targetElement=t,U.define([V,D]),this._core=new Ot(new vt(this._targetElement),e)}destroy(){this._core.destroy()}open(){this._core.open()}close(){return this._core.close()}getActiveOptionIndex(){return this._core.getActiveOptionIndex()}getActiveOption(){return this._core.getActiveOption()}toggleOptionMultiple(t,e){return this._core.toggleOptionMultiple(t,e)}activateSelectedOption(){this._core.activateSelectedOption()}activateFirstOption(){return this._core.activateFirstOption()}activateOption(t){return this._core.activateOption(t)}activateInitialOption(){return this._core.activateInitialOption()}clearActiveOption(){this._core.clearActiveOption()}setSelectedValues(t){return this._core.setSelectedValues(t)}get dropdownElement(){return this._core.dropdownElement}setOptions(t){this._core.setOptions(t)}appendOptions(t){this._core.appendOptions(t)}scrollSelectedOptionIntoView(t){this._core.scrollSelectedOptionIntoView()}setScrollBottomListener(t,e){this._core.setScrollBottomListener(t,e)}removeScrollBottomListener(){this._core.removeScrollBottomListener()}setBusyVisibility(t){this._core.setBusyVisibility(t)}handleKey(t){this._core.handleKey(t)}}export{g as L,Bt as a,ct as b,M as c,u as d,k as i};
