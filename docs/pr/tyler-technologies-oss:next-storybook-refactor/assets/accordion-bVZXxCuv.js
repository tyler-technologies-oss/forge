import{A as d,C as p,D as _,B as m}from"./constants-DbwyRGxi.js";import{E as r,a as E}from"./expansion-panel-IDpbTctz.js";import{B as u,F as C}from"./base-adapter-CpHyUcoj.js";class L extends u{constructor(e){super(e)}getHostElement(){return this._component}isNestedPanel(e){return!e||!this._component.contains(e)?!1:d(e,this._component).some(t=>t.tagName.toLocaleLowerCase()===r.elementName)}getChildPanels(e){return e?Array.from(this._component.querySelectorAll(e)):Array.from(this._component.children).filter(t=>t.tagName.toLocaleLowerCase()===r.elementName)}addEventListener(e,n,t,s){t.addEventListener(e,n,s||!1)}removeEventListener(e,n,t){t.removeEventListener(e,n)}}const f=`${p}accordion`,N={PANEL_SELECTOR:"panel-selector"},o={elementName:f,attributes:N};class A{constructor(e){this._adapter=e}initialize(){this._attachListeners()}disconnect(){this._detachListeners()}_attachListeners(){this._hostInteractionCallback=e=>this._hostInteraction(e),this._adapter.addEventListener(r.events.TOGGLE,this._hostInteractionCallback,this._adapter.getHostElement())}_detachListeners(){this._hostInteractionCallback&&(this._adapter.removeEventListener(r.events.TOGGLE,this._hostInteractionCallback,this._adapter.getHostElement()),this._hostInteractionCallback=void 0)}_hostInteraction(e){switch(e.type){case r.events.TOGGLE:if(e.detail){e.stopPropagation();const n=e.target;if(this._adapter.isNestedPanel(n))return;this._adapter.getChildPanels(this._panelSelector).forEach(t=>{n!==t&&!this._adapter.isNestedPanel(t)&&(t.open=!1)})}break}}get panelSelector(){return this._panelSelector}set panelSelector(e){this._panelSelector!==e&&(this._panelSelector=e,this._adapter.setHostAttribute(o.attributes.PANEL_SELECTOR,this._panelSelector))}}var P=Object.defineProperty,b=Object.getOwnPropertyDescriptor,h=(a,e,n,t)=>{for(var s=t>1?void 0:t?b(e,n):e,i=a.length-1,c;i>=0;i--)(c=a[i])&&(s=(t?c(e,n,s):c(s))||s);return t&&s&&P(e,n,s),s};let l=class extends m{static get observedAttributes(){return[o.attributes.PANEL_SELECTOR]}constructor(){super(),this._foundation=new A(new L(this))}initializedCallback(){this._foundation.initialize()}disconnectedCallback(){this._foundation.disconnect()}attributeChangedCallback(a,e,n){switch(a){case o.attributes.PANEL_SELECTOR:this.panelSelector=n;break}}};h([C()],l.prototype,"panelSelector",2);l=h([_({name:o.elementName,dependencies:[E]})],l);
