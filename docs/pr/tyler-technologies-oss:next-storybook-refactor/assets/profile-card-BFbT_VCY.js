import{B as T,F as o}from"./base-adapter-C9aeBWzX.js";import{b as d,a as c}from"./icon-C_fBaRFB.js";import"./index-Dh0vMUMR.js";import{B as m}from"./base-component-delegate-AxWGxQQ8.js";import{C as v,D as l,b as g,z as O,B as b,A,m as y,l as p}from"./constants-ygAdINjo.js";import{B}from"./button-BqSEXo5h.js";import"./focus-indicator-CkhNke9z.js";import"./state-layer-CsmUKFp0.js";import{A as E}from"./avatar-eKhoZxTJ.js";import{T as x}from"./toolbar-CEbqw2SO.js";class I extends m{constructor(t){super(t)}_build(){return document.createElement(d.elementName)}}const f=`${v}profile-card`,N={FULL_NAME:"full-name",EMAIL:"email",SIGN_OUT:"sign-out",PROFILE:"profile",SIGN_OUT_TEXT:"sign-out-text",PROFILE_TEXT:"profile-text",AVATAR_TEXT:"avatar-text",AVATAR_ICON:"avatar-icon",AVATAR_IMAGE_URL:"avatar-image-url",AVATAR_LETTER_COUNT:"avatar-letter-count"},L={FULL_NAME:".full-name",EMAIL:".email",AVATAR:".avatar > forge-avatar",ACTION_TOOLBAR:"#action-toolbar",PROFILE_BUTTON:"#profile-button",SIGN_OUT_BUTTON:"#sign-out-button"},U={SHOW_SIGN_OUT_BUTTON:!0,SHOW_PROFILE_BUTTON:!1,SIGN_OUT_BUTTON_TEXT:"Sign out",PROFILE_BUTTON_TEXT:"Profile"},P={SIGN_OUT:`${f}-sign-out`,PROFILE:`${f}-profile`},e={elementName:f,attributes:N,selectors:L,defaults:U,events:P};class C extends T{constructor(t){super(t),this._fullNameElement=l(t,e.selectors.FULL_NAME),this._emailElement=l(t,e.selectors.EMAIL),this._avatarElement=l(t,e.selectors.AVATAR),this._actionToolbar=l(t,e.selectors.ACTION_TOOLBAR),this._profileButton=l(t,e.selectors.PROFILE_BUTTON),this._signOutButton=l(t,e.selectors.SIGN_OUT_BUTTON)}setFullName(t){this._fullNameElement.textContent=t}setEmail(t){this._emailElement.textContent=t}setAvatarText(t){g(this._avatarElement),this._avatarElement.text=t}setAvatarIcon(t){if(t){const a=new I({props:{name:t}});this._avatarElement.replaceChildren(a.element)}else g(this._avatarElement)}setAvatarImageUrl(t){this._avatarElement.imageUrl=t}setAvatarLetterCount(t){this._avatarElement.letterCount=t}setActionToolbarVisibility(t){t?this._actionToolbar.style.removeProperty("display"):this._actionToolbar.style.display="none"}setProfileButtonVisibility(t){t?this._profileButton.style.removeProperty("display"):this._profileButton.style.display="none"}setSignOutButtonVisibility(t){t?this._signOutButton.style.removeProperty("display"):this._signOutButton.style.display="none"}setSignOutButtonText(t){this._signOutButton.textContent=t}setProfileButtonText(t){this._profileButton.textContent=t}setProfileButtonListener(t){this._profileButton.addEventListener("click",t)}setSignOutButtonListener(t){this._signOutButton.addEventListener("click",t)}requestProfileButtonFocus(t){window.requestAnimationFrame(()=>this._profileButton.focus(t))}requestSignOutButtonFocus(t){window.requestAnimationFrame(()=>this._signOutButton.focus(t))}}class R{constructor(t){this._adapter=t,this._showSignOutButton=e.defaults.SHOW_SIGN_OUT_BUTTON,this._showProfileButton=e.defaults.SHOW_PROFILE_BUTTON,this._signOutButtonText=e.defaults.SIGN_OUT_BUTTON_TEXT,this._profileButtonText=e.defaults.PROFILE_BUTTON_TEXT,this._profileListener=a=>this._onProfileButtonClick(a),this._signOutListener=a=>this._onSignOutButtonClick(a)}initialize(){this._adapter.setProfileButtonListener(this._profileListener),this._adapter.setSignOutButtonListener(this._signOutListener)}focus(t){this._showSignOutButton?this._adapter.requestSignOutButtonFocus({...t,focusVisible:!0}):this._showProfileButton&&this._adapter.requestProfileButtonFocus({...t,focusVisible:!0})}_setActionVisibility(){const t=this._showSignOutButton||this._showProfileButton;this._adapter.setActionToolbarVisibility(t),this._adapter.setSignOutButtonVisibility(this._showSignOutButton),this._adapter.setProfileButtonVisibility(this._showProfileButton)}_onProfileButtonClick(t){t.stopPropagation(),this._adapter.emitHostEvent(e.events.PROFILE)}_onSignOutButtonClick(t){t.stopPropagation(),this._adapter.emitHostEvent(e.events.SIGN_OUT)}get fullName(){return this._fullName}set fullName(t){this._fullName!==t&&(this._fullName=t??"",this._adapter.setFullName(this._fullName),this._avatarText||this._adapter.setAvatarText(this._fullName),this._adapter.toggleHostAttribute(e.attributes.FULL_NAME,!!this._fullName,this._fullName))}get email(){return this._email}set email(t){this._email!==t&&(this._email=t??"",this._adapter.setEmail(this._email),this._adapter.toggleHostAttribute(e.attributes.EMAIL,!!this._email,this._email))}get avatarText(){return this._avatarText}set avatarText(t){this._avatarText!==t&&(this._avatarText=t??"",this._adapter.setAvatarText(this._avatarText),this._adapter.toggleHostAttribute(e.attributes.AVATAR_TEXT,!!this._avatarText,this._avatarText))}get avatarIcon(){return this._avatarIcon}set avatarIcon(t){this._avatarIcon!==t&&(this._avatarIcon=t??"",this._adapter.setAvatarIcon(this._avatarIcon),this._adapter.toggleHostAttribute(e.attributes.AVATAR_ICON,!!this._avatarIcon,this._avatarIcon))}get avatarImageUrl(){return this._avatarImageUrl}set avatarImageUrl(t){this._avatarImageUrl!==t&&(this._avatarImageUrl=t,this._adapter.setAvatarImageUrl(this._avatarImageUrl),this._adapter.toggleHostAttribute(e.attributes.AVATAR_IMAGE_URL,!!this._avatarImageUrl,this._avatarImageUrl))}get avatarLetterCount(){return this._avatarLetterCount}set avatarLetterCount(t){this._avatarLetterCount!==t&&(this._avatarLetterCount=t,this._adapter.setAvatarLetterCount(this._avatarLetterCount),this._adapter.toggleHostAttribute(e.attributes.AVATAR_LETTER_COUNT,!!this._avatarLetterCount,`${this._avatarLetterCount}`))}get signOut(){return this._showSignOutButton}set signOut(t){t=!!t,this._showSignOutButton!==t&&(this._showSignOutButton=t,this._setActionVisibility(),this._adapter.toggleHostAttribute(e.attributes.SIGN_OUT,this._showSignOutButton))}get profile(){return this._showProfileButton}set profile(t){t=!!t,this._showProfileButton!==t&&(this._showProfileButton=t,this._setActionVisibility(),this._adapter.toggleHostAttribute(e.attributes.PROFILE,this._showProfileButton))}get signOutText(){return this._signOutButtonText}set signOutText(t){if(this._signOutButtonText!==t){this._signOutButtonText=t||e.defaults.SIGN_OUT_BUTTON_TEXT,this._adapter.setSignOutButtonText(this._signOutButtonText);const a=this._signOutButtonText!==e.defaults.SIGN_OUT_BUTTON_TEXT;this._adapter.toggleHostAttribute(e.attributes.SIGN_OUT_TEXT,a,this._signOutButtonText)}}get profileText(){return this._profileButtonText}set profileText(t){if(this._profileButtonText!==t){this._profileButtonText=t||e.defaults.PROFILE_BUTTON_TEXT,this._adapter.setProfileButtonText(this._profileButtonText);const a=t!==e.defaults.PROFILE_BUTTON_TEXT;this._adapter.toggleHostAttribute(e.attributes.PROFILE_TEXT,a,this._profileButtonText)}}}const S=`<template>
  <div class="forge-profile-card" part="root">
    <div class="info-container">
      <div class="avatar">
        <forge-avatar part="avatar"></forge-avatar>
      </div>
      <div class="info-text">
        <div class="full-name" part="name"></div>
        <div class="email" part="email"></div>
      </div>
    </div>
    <slot></slot>
    <forge-toolbar inverted id="action-toolbar">
      <forge-button variant="outlined" slot="end" style="display: none;" part="profile-button" id="profile-button">Profile</forge-button>
      <forge-button slot="end" part="sign-out-button" id="sign-out-button">Sign out</forge-button>
    </forge-toolbar>
  </div>
</template>`,F=':host{display:block}:host([hidden]){display:none}.forge-profile-card{--_profile-card-min-width: var(--forge-profile-card-min-width, 360px);--_profile-card-shape: var(--forge-profile-card-shape, var(--forge-shape-medium, 4px));--_profile-card-avatar-size: var(--forge-profile-card-avatar-size, 56px)}.forge-profile-card{min-width:var(--_profile-card-min-width);border-radius:var(--_profile-card-shape)}@media (max-width: 399px){.forge-profile-card{width:100vw;min-width:unset;overflow:auto}}.forge-profile-card .info-container{display:flex;align-items:center;padding-block:var(--forge-spacing-xsmall, 8px);padding-inline:var(--forge-spacing-medium, 16px)}.forge-profile-card .avatar{display:flex;align-items:center;padding:var(--forge-spacing-xsmall, 8px);margin-inline-end:var(--forge-spacing-medium, 16px);--forge-avatar-size: var(--_profile-card-avatar-size)}.forge-profile-card .text{display:flex;flex-direction:column}.forge-profile-card .full-name{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--forge-typography-heading2-font-family, var(--forge-typography-font-family, "Roboto", sans-serif));font-size:var(--forge-typography-heading2-font-size, calc(var(--forge-typography-font-size, 1rem) * var(--forge-typography-heading2-font-size-scale, 1)));font-weight:var(--forge-typography-heading2-font-weight, 500);line-height:var(--forge-typography-heading2-line-height, calc(var(--forge-typography-font-size, 1rem) * var(--forge-typography-heading2-line-height-scale, 1.25)));letter-spacing:var(--forge-typography-heading2-letter-spacing, .0125em);text-transform:var(--forge-typography-heading2-text-transform, inherit);text-decoration:var(--forge-typography-heading2-text-decoration, inherit)}.forge-profile-card .email{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--forge-typography-subheading1-font-family, var(--forge-typography-font-family, "Roboto", sans-serif));font-size:var(--forge-typography-subheading1-font-size, calc(var(--forge-typography-font-size, 1rem) * var(--forge-typography-subheading1-font-size-scale, .875)));font-weight:var(--forge-typography-subheading1-font-weight, 400);line-height:var(--forge-typography-subheading1-line-height, calc(var(--forge-typography-font-size, 1rem) * var(--forge-typography-subheading1-line-height-scale, 1.125)));letter-spacing:var(--forge-typography-subheading1-letter-spacing, normal);text-transform:var(--forge-typography-subheading1-text-transform, inherit);text-decoration:var(--forge-typography-subheading1-text-decoration, inherit);color:var(--forge-theme-text-medium, rgba(0, 0, 0, .6))}#action-toolbar{--forge-toolbar-padding: 8px}#action-toolbar forge-button:not(:last-of-type){margin-inline-end:8px}';var w=Object.defineProperty,G=Object.getOwnPropertyDescriptor,r=(s,t,a,h)=>{for(var n=h>1?void 0:h?G(t,a):t,u=s.length-1,_;u>=0;u--)(_=s[u])&&(n=(h?_(t,a,n):_(n))||n);return h&&n&&w(t,a,n),n};let i=class extends b{static get observedAttributes(){return[e.attributes.FULL_NAME,e.attributes.EMAIL,e.attributes.SIGN_OUT,e.attributes.PROFILE,e.attributes.SIGN_OUT_TEXT,e.attributes.PROFILE_TEXT,e.attributes.AVATAR_TEXT,e.attributes.AVATAR_ICON,e.attributes.AVATAR_IMAGE_URL,e.attributes.AVATAR_LETTER_COUNT]}constructor(){super(),A(this,S,F),this._foundation=new R(new C(this))}connectedCallback(){this._foundation.initialize()}attributeChangedCallback(s,t,a){switch(s){case e.attributes.FULL_NAME:this.fullName=a;break;case e.attributes.EMAIL:this.email=a;break;case e.attributes.SIGN_OUT:this.signOut=p(a);break;case e.attributes.PROFILE:this.profile=p(a);break;case e.attributes.SIGN_OUT_TEXT:this.signOutText=a;break;case e.attributes.PROFILE_TEXT:this.profileText=a;break;case e.attributes.AVATAR_TEXT:this.avatarText=a;break;case e.attributes.AVATAR_ICON:this.avatarIcon=a;break;case e.attributes.AVATAR_IMAGE_URL:this.avatarImageUrl=a;break;case e.attributes.AVATAR_LETTER_COUNT:this.avatarLetterCount=y(a);break}}focus(s){this._foundation.focus(s)}};r([o()],i.prototype,"fullName",2);r([o()],i.prototype,"email",2);r([o()],i.prototype,"signOut",2);r([o()],i.prototype,"profile",2);r([o()],i.prototype,"signOutText",2);r([o()],i.prototype,"profileText",2);r([o()],i.prototype,"avatarText",2);r([o()],i.prototype,"avatarIcon",2);r([o()],i.prototype,"avatarImageUrl",2);r([o()],i.prototype,"avatarLetterCount",2);i=r([O({name:e.elementName,dependencies:[x,B,c,E]})],i);export{I,e as P,i as a};
