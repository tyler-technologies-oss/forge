import{x as f,T as g}from"./lit-element-BOOoordI.js";import"./lit-html-BWgXkSvR.js";import{o as L}from"./style-map-D0ILlpbs.js";import{a as v}from"./chunk-MZXVCX43-CM0pFb8Z.js";import{C as S,D as a,z as E,A as y,l as O,d as T,g as A}from"./constants-ygAdINjo.js";import{I as B}from"./icon-C_fBaRFB.js";import"./index-Dh0vMUMR.js";import{b as C,F as w}from"./index-Dd7dh6lc.js";import"./card-A3SGmT2O.js";import{B as N,F as D}from"./base-adapter-C9aeBWzX.js";import{F as I,a as k}from"./focus-indicator-CkhNke9z.js";import{S as P,a as x}from"./state-layer-CsmUKFp0.js";import{g as R}from"./event-utils-C1SDeUaq.js";import"./icon-button-D-WCJJ3W.js";import"./tooltip-FoMIFxP-.js";import"./overlay-BJf_Vl0w.js";import{s as F}from"./decorators-B79PnA5z.js";const $=`${S}button-area`,z={DISABLED:"disabled",IGNORE:"data-forge-ignore",IGNORE_ALT:"forge-ignore"},c={ROOT:"root",BUTTON_SLOT:"button",CONTENT_SLOT:"content"},M={ROOT:"forge-button-area"},U={ROOT:`#${c.ROOT}`,BUTTON_SLOT:"slot[name=button]",CONTENT_SLOT:`#${c.CONTENT_SLOT}`},r={elementName:$,attributes:z,ids:c,classes:M,selectors:U};class j extends N{constructor(t){super(t),this._rootElement=a(t,r.selectors.ROOT),this._buttonSlotElement=a(t,r.selectors.BUTTON_SLOT),this._contentSlotElement=a(t,r.selectors.CONTENT_SLOT),this._focusIndicatorElement=a(t,I.elementName),this._stateLayerElement=a(t,P.elementName)}destroy(){}setDisabled(t){var e;(e=this._buttonElement)==null||e.toggleAttribute(r.attributes.DISABLED,t),t?(this._focusIndicatorElement.remove(),this._stateLayerElement.remove()):this._rootElement.append(this._focusIndicatorElement,this._stateLayerElement)}addListener(t,e,o){this._rootElement.addEventListener(t,e,{capture:o})}removeListener(t,e,o){this._rootElement.removeEventListener(t,e,{capture:o})}addButtonSlotListener(t,e){this._buttonSlotElement.addEventListener(t,e)}removeButtonSlotListener(t,e){this._buttonSlotElement.removeEventListener(t,e)}addContentSlotListener(t,e){this._contentSlotElement.addEventListener(t,e)}removeContentSlotListener(t,e){this._contentSlotElement.removeEventListener(t,e)}animateStateLayer(){this._stateLayerElement.playAnimation()}startButtonObserver(t){this._buttonElement&&(this._buttonObserver=new MutationObserver(t),this._buttonObserver.observe(this._buttonElement,{attributeFilter:[r.attributes.DISABLED]}))}stopButtonObserver(){this._buttonObserver&&(this._buttonObserver.disconnect(),this._buttonObserver=void 0)}detectSlottedButton(){this._buttonElement=this._buttonSlotElement.assignedElements()[0]}isButtonDisabled(){var t;return((t=this._buttonElement)==null?void 0:t.disabled)??!0}requestDisabledButtonFrame(){this._buttonElement&&(this._buttonElement.disabled=!0,requestAnimationFrame(()=>this._buttonElement.disabled=!1))}}class G{constructor(t){this._adapter=t,this._disabled=!1,this._clickListener=this._handleClick.bind(this),this._keydownListener=this._handleKeydown.bind(this),this._pointerdownListener=this._handlePointerdown.bind(this),this._ignoreStateLayerListener=this._handleIgnoreStateLayer.bind(this),this._slotListener=this._handleSlotChange.bind(this)}initialize(){this._adapter.addListener("click",this._clickListener),this._adapter.addListener("keydown",this._keydownListener),this._adapter.addListener("pointerdown",this._pointerdownListener),this._adapter.addContentSlotListener("click",this._ignoreStateLayerListener.bind(this)),this._adapter.addContentSlotListener("pointerdown",this._ignoreStateLayerListener.bind(this)),this._adapter.addContentSlotListener("pointerup",this._ignoreStateLayerListener.bind(this)),this._adapter.addButtonSlotListener("slotchange",this._slotListener)}disconnect(){this._adapter.removeListener("click",this._clickListener),this._adapter.removeListener("keydown",this._keydownListener),this._adapter.removeListener("pointerdown",this._pointerdownListener),this._adapter.removeContentSlotListener("click",this._ignoreStateLayerListener.bind(this)),this._adapter.removeContentSlotListener("pointerdown",this._ignoreStateLayerListener.bind(this)),this._adapter.removeContentSlotListener("pointerup",this._ignoreStateLayerListener.bind(this)),this._adapter.removeButtonSlotListener("slotchange",this._slotListener),this._adapter.destroy(),this._adapter.stopButtonObserver()}_handleClick(t){this._disabled&&t.stopPropagation();const e=window.getSelection();(e==null?void 0:e.type)==="Range"&&(e==null?void 0:e.toString().trim())!==""&&t.stopPropagation(),this._shouldIgnoreEvent(t)&&t.stopPropagation()}_handleKeydown(t){t.key!==" "&&t.key!=="Enter"||(this._shouldIgnoreEvent(t)?t.stopPropagation():this._adapter.animateStateLayer())}_handlePointerdown(t){this._disabled||this._shouldIgnoreEvent(t)&&this._adapter.requestDisabledButtonFrame()}_handleIgnoreStateLayer(t){this._disabled||this._shouldIgnoreEvent(t)&&t.stopPropagation()}_handleSlotChange(){this._adapter.stopButtonObserver(),this._adapter.detectSlottedButton(),this._adapter.startButtonObserver(()=>this._handleButtonDisabled()),this._adapter.isButtonDisabled()?this.disabled=!0:this._disabled&&this._adapter.setDisabled(!0)}_handleButtonDisabled(){this.disabled=this._adapter.isButtonDisabled()}_shouldIgnoreEvent(t){return R(t).some(o=>o.nodeType===1&&(o.hasAttribute(r.attributes.IGNORE)||o.hasAttribute(r.attributes.IGNORE_ALT)))}get disabled(){return this._disabled}set disabled(t){this._disabled!==t&&(this._disabled=t,this._adapter.setDisabled(this._disabled),this._adapter.toggleHostAttribute(r.attributes.DISABLED,this._disabled))}}const q=`<template>
  <div class="forge-button-area" id="root" part="root">
    <div class="button" id="button" part="button">
      <slot name="button"></slot>
    </div>
    <slot id="content"></slot>
    <forge-state-layer target="root" exportparts="surface:state-layer"></forge-state-layer>
    <forge-focus-indicator target="button" part="focus-indicator" inward></forge-focus-indicator>
  </div>
</template>`,H=":host{display:block;position:relative}:host .forge-button-area{cursor:var(--_button-area-cursor)}:host([hidden]){display:none}:host([disabled]) .forge-button-area{cursor:var(--_button-area-disabled-cursor)}.forge-button-area{--_button-area-primary-color: var(--forge-button-area-primary-color, var(--forge-theme-primary, #3f51b5));--_button-area-cursor: var(--forge-button-area-cursor, pointer);--_button-area-disabled-cursor: var(--forge-button-area-disabled-cursor, not-allowed);--_button-area-focus-indicator-color: var(--forge-button-area-focus-indicator-color, var(--forge-theme-primary, #3f51b5));--_button-area-focus-indicator-offset: var(--forge-button-area-focus-indicator-offset, 4px)}.forge-button-area{position:relative;overflow:hidden}.forge-button-area .button{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;outline:0;-webkit-appearance:none;-moz-appearance:none}forge-focus-indicator{z-index:1;--forge-focus-indicator-color: var(--_button-area-focus-indicator-color);--forge-focus-indicator-outward-offset: var(--_button-area-focus-indicator-offset)}forge-state-layer{--forge-state-layer-color: var(--_button-area-primary-color);border-radius:inherit}";var V=Object.defineProperty,K=Object.getOwnPropertyDescriptor,m=(i,t,e,o)=>{for(var s=o>1?void 0:o?K(t,e):t,d=i.length-1,l;d>=0;d--)(l=i[d])&&(s=(o?l(t,e,s):l(s))||s);return o&&s&&V(t,e,s),s};let h=class extends HTMLElement{static get observedAttributes(){return[r.attributes.DISABLED]}constructor(){super(),y(this,q,H),this._foundation=new G(new j(this))}connectedCallback(){this._foundation.initialize()}disconnectedCallback(){this._foundation.disconnect()}attributeChangedCallback(i,t,e){switch(i){case r.attributes.DISABLED:this.disabled=O(e);break}}};m([D()],h.prototype,"disabled",2);h=m([E({name:r.elementName,dependencies:[k,x]})],h);const X="forge-card{--forge-card-padding: 0;width:320px;max-width:100%}.content{display:flex;align-items:center;gap:8px;padding:16px}.content>:first-child{margin-inline-end:auto}",u="forge-button-area";B.define([C,w]);const Y=v("click"),J={title:"Components/Button Area",render:i=>{const t=T(i),e=t?L(t):g;return f`
      <forge-card>
        <forge-button-area ?disabled=${i.disabled} @click=${Y} style=${e}>
          <div class="content">
            <div>
              <div>Heading</div>
              <div>Content</div>
            </div>
            <forge-icon-button>
              <forge-icon role="img" name="favorite" aria-label="A heart graphic"></forge-icon>
              </forge-icon-button>
              <forge-tooltip>Favorite</forge-tooltip>
            <forge-icon name="chevron_right"></forge-icon>
          </div>
        </forge-button-area>
      </forge-card>
    `},component:u,decorators:[F(X)],parameters:{actions:{disable:!0}},argTypes:{...A({tagName:u})},args:{}},n={};var b,_,p;n.parameters={...n.parameters,docs:{...(b=n.parameters)==null?void 0:b.docs,source:{originalSource:"{}",...(p=(_=n.parameters)==null?void 0:_.docs)==null?void 0:p.source}}};const Q=["Demo"],pt=Object.freeze(Object.defineProperty({__proto__:null,Demo:n,__namedExportsOrder:Q,default:J},Symbol.toStringTag,{value:"Module"}));export{pt as B,n as D};
