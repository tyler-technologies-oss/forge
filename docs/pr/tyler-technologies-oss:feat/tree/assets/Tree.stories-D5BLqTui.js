import{r as U,i as H,x as f,E as D}from"./iframe-aLJo785t.js";import{g as Q}from"./utils-CWNZ6DqN.js";import"./service-adapter-CffG5Lhq.js";import{n as d,t as j}from"./property-Btdv5Qza.js";import{e as F}from"./class-map-DAgnoEt_.js";import{s as m}from"./a11y-utils-Dj08p-2z.js";import{t as w}from"./utils-Bd6MGx91.js";import{K as X}from"./index-DTwfV0k0.js";import{I as J,R as Y,S as Z,a1 as ee}from"./icon-Uwxy940_.js";import{r as I}from"./state-6IiZZlUN.js";import{n as te}from"./query-assigned-nodes-DwurYzgD.js";import{o as ie}from"./style-map-B_8c-ch3.js";import"./open-icon-pKbfwaP0.js";/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let N=class extends Event{constructor(e,t,s){super("context-request",{bubbles:!0,composed:!0}),this.context=e,this.callback=t,this.subscribe=s??!1}};/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 *//**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let P=class{constructor(e,t,s,n){if(this.subscribe=!1,this.provided=!1,this.value=void 0,this.t=(r,o)=>{this.unsubscribe&&(this.unsubscribe!==o&&(this.provided=!1,this.unsubscribe()),this.subscribe||this.unsubscribe()),this.value=r,this.host.requestUpdate(),this.provided&&!this.subscribe||(this.provided=!0,this.callback&&this.callback(r,o)),this.unsubscribe=o},this.host=e,t.context!==void 0){const r=t;this.context=r.context,this.callback=r.callback,this.subscribe=r.subscribe??!1}else this.context=t,this.callback=s,this.subscribe=n??!1;this.host.addController(this)}hostConnected(){this.dispatchRequest()}hostDisconnected(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=void 0)}dispatchRequest(){this.host.dispatchEvent(new N(this.context,this.t,this.subscribe))}};/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class se{get value(){return this.o}set value(e){this.setValue(e)}setValue(e,t=!1){const s=t||!Object.is(e,this.o);this.o=e,s&&this.updateObservers()}constructor(e){this.subscriptions=new Map,this.updateObservers=()=>{for(const[t,{disposer:s}]of this.subscriptions)t(this.o,s)},e!==void 0&&(this.value=e)}addCallback(e,t,s){if(!s)return void e(this.value);this.subscriptions.has(e)||this.subscriptions.set(e,{disposer:()=>{this.subscriptions.delete(e)},consumerHost:t});const{disposer:n}=this.subscriptions.get(e);e(this.value,n)}clearCallbacks(){this.subscriptions.clear()}}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let ne=class extends Event{constructor(e){super("context-provider",{bubbles:!0,composed:!0}),this.context=e}};class K extends se{constructor(e,t,s){super(t.context!==void 0?t.initialValue:s),this.onContextRequest=n=>{const r=n.composedPath()[0];n.context===this.context&&r!==this.host&&(n.stopPropagation(),this.addCallback(n.callback,r,n.subscribe))},this.onProviderRequest=n=>{const r=n.composedPath()[0];if(n.context!==this.context||r===this.host)return;const o=new Set;for(const[c,{consumerHost:O}]of this.subscriptions)o.has(c)||(o.add(c),O.dispatchEvent(new N(this.context,c,!0)));n.stopPropagation()},this.host=e,t.context!==void 0?this.context=t.context:this.context=t,this.attachListeners(),this.host.addController?.(this)}attachListeners(){this.host.addEventListener("context-request",this.onContextRequest),this.host.addEventListener("context-provider",this.onProviderRequest)}hostConnected(){this.host.dispatchEvent(new ne(this.context))}}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function re({context:i}){return(e,t)=>{const s=new WeakMap;if(typeof t=="object")return t.addInitializer(function(){s.set(this,new K(this,{context:i}))}),{get(){return e.get.call(this)},set(n){return s.get(this)?.setValue(n),e.set.call(this,n)},init(n){return s.get(this)?.setValue(n),n}};{e.constructor.addInitializer(o=>{s.set(o,new K(o,{context:i}))});const n=Object.getOwnPropertyDescriptor(e,t);let r;if(n===void 0){const o=new WeakMap;r={get(){return o.get(this)},set(c){s.get(this).setValue(c),o.set(this,c)},configurable:!0,enumerable:!0}}else{const o=n.set;r={...n,set(c){s.get(this).setValue(c),o?.call(this,c)}}}return void Object.defineProperty(e,t,r)}}}/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function oe({context:i,subscribe:e}){return(t,s)=>{typeof s=="object"?s.addInitializer(function(){new P(this,{context:i,callback:n=>{t.set.call(this,n)},subscribe:e})}):t.constructor.addInitializer(n=>{new P(n,{context:i,callback:r=>{n[s]=r},subscribe:e})})}}const b=Symbol("indeterminate");function g(i){return i.tagName.toLowerCase()==="forge-tree-item"}function p(i){return i.target.closest("forge-tree-item")}function ae(i){return i.composedPath().filter(t=>t instanceof HTMLElement&&g(t))}function le(i){const e=i.composedPath(),t=e.findIndex(n=>n instanceof HTMLElement&&g(n)),s=e.findIndex(n=>n instanceof HTMLElement&&n.matches(".header"));return t>=0&&s>=0&&s<t}function ce(i){const e=i.composedPath(),t=e.findIndex(n=>n instanceof HTMLElement&&g(n)),s=e.findIndex(n=>n instanceof HTMLElement&&n.matches(".expand-icon"));return t>=0&&s>=0&&s<t}function de(i){return i.target.closest("forge-tree-item")}function he(i){let e=0,t=_(i);for(;t;)e++,t=_(t);return e}function q(i){return i.closest("forge-tree")}function _(i){return i.parentElement&&g(i.parentElement)?i.parentElement:null}function x(i,e=!1){return e?Array.from(i.querySelectorAll("forge-tree-item")):Array.from(i.children).filter(t=>g(t))}function y(i){return Array.from(i.children).find(e=>g(e))??null}function T(i){const e=Array.from(i.children).filter(t=>g(t));return e[e.length-1]??null}function V(i,e=!1){const t=_(i)??q(i);return t?x(t).filter(s=>e||s!==i):[]}function S(i,e=!0){if(e&&i.open&&y(i))return y(i);let t=i.nextElementSibling;for(;t&&!g(t);)t=t.nextElementSibling;if(t)return t;const s=_(i);return s?S(s,!1):null}function L(i){let e=i.previousElementSibling;for(;e&&!g(e);)e=e.previousElementSibling;if(!e)return _(i);if(!e.open||e.leaf)return e;let t=T(e);for(;t&&t.open;)t=T(t);return t}function pe(i,e){const t=C=>C.textContent?.trim().toLowerCase().startsWith(e)??!1,s=C=>{const z=x(C);for(const h of z){if(t(h))return h;if(h.open&&(r=s(h),r))return r}return null},n=(C,z=!0)=>{const h=V(C,!0),G=h.indexOf(C)+(z?1:0);for(let k=G;k<h.length;k++){if(t(h[k]))return h[k];if(h[k].open&&(r=s(h[k]),r))return r}return null};e=e.toLowerCase();let r=null,o=i,c=!1;for(;!r&&o;)r=n(o,c),r||(c=!0,o=_(o));if(r)return r;const O=q(i);return!O||(o=y(O),!o)?null:n(o,!1)}function $(i){return x(i).some((e,t,s)=>e.indeterminate||e.selected!==s[0].selected)}function A(i){x(i,!0).forEach(e=>e.open=!1)}class fe{constructor(e){this.items=[],this._itemsBeingToggled=new WeakSet,this._updateListener=t=>this._handleUpdateEvent(t),this.host=e,e.addController(this)}get value(){return this.items.filter(e=>!e.indeterminate).map(e=>e.value)}set value(e){this.items=[];const t=x(this.host,!0);if(this.host.mode!=="multiple"){const n=t.find(r=>r.value===e[0]);n&&(this._selectItem(n,!0),this.items.push(n)),this._clearIndeterminate(t);return}const s=[];t.forEach(n=>{const r=e.includes(n.value);r!==n.selected&&(this._selectItem(n,r),n.selected&&this.items.push(n),s.push(n))}),this.items.forEach(n=>this._updateDescendentSelections(n)),s.forEach(n=>this._updateAncestorSelections(n))}hostConnected(){this.host.addEventListener("forge-tree-item-update",this._updateListener)}hostDisconnected(){this.host.removeEventListener("forge-tree-item-update",this._updateListener)}cleanup(){if(!this.items.length)return;let e=[];switch(this.host.mode){case"single":{if(this.items.length===1)return;const t=this.items.splice(-1,1);e=[...this.items],this.items.forEach(s=>this._selectItem(s,!1)),this.items=t;break}case"leaf":{const t=this.items.reverse().findIndex(n=>n.leaf),s=t>-1?this.items.splice(t,1):null;e=[...this.items],this.items.forEach(n=>this._selectItem(n,!1)),s&&(this.items=s);break}case"multiple":e=this.items,e.forEach(t=>this._updateDescendentSelections(t));break;case"off":e=[...this.items],this.items.forEach(t=>this._selectItem(t,!1)),this.items=[];break}e.forEach(t=>this._updateAncestorSelections(t))}toggle(e,t){if(e.disabled)return;let s=[];this._addToSnapshot(e,s);const n=t??!e.selected;this._selectItem(e,n);const r=this.items.slice();s=this._updateSelectionsFromItem(e,s);const o=new CustomEvent("forge-tree-item-select",{bubbles:!0,composed:!0,detail:e.value});e.dispatchEvent(o),o.defaultPrevented&&(this._restoreSnapshot(s),this.items=r)}extend(e){if(e.disabled||this.host.mode!=="multiple")return;const t=this.items[this.items.length-1];if(!t)return;const s=e.compareDocumentPosition(t);if(s===0)return;const r=s&Node.DOCUMENT_POSITION_FOLLOWING?S:L;let o=r(e);for(;o&&o!==t;)(o.leaf||!o.open)&&this.toggle(o,!0),o=r(o)}selectAll(){this.items=[];const e=x(this.host,!0);e.forEach(t=>{this._selectItem(t,!0),this.items.push(t)}),e.reverse().forEach(t=>{this._updateAncestorSelections(t)}),this.host.dispatchEvent(new CustomEvent("forge-tree-select-all",{bubbles:!0,composed:!0}))}_handleUpdateEvent(e){const t=p(e);if(t)switch(e.detail.reason){case"deselected":case"selected":this._itemsBeingToggled.has(t)||this._updateSelectionsFromItem(t),this._itemsBeingToggled.delete(t);break;case"added":case"removed":this._updateAncestorSelections(t);break}}_updateSelectionsFromItem(e,t=[]){if(e.selected){if(this.host.mode!=="multiple")return this.items.forEach(s=>{s!==e&&(this._addToSnapshot(s,t),this._selectItem(s,!1))}),this.items=[e],t;e.selected&&this.items.push(e)}else{const s=this.items.indexOf(e);s!==-1&&this.items.splice(s,1),this.host.mode==="multiple"&&(t=this._updateDescendentSelections(e,t),t=this._updateAncestorSelections(e,t))}return t=this._updateDescendentSelections(e,t),t=this._updateAncestorSelections(e,t),t}_updateDescendentSelections(e,t=[]){if(e.leaf)return t;const s=x(e,!0);return s.forEach(r=>{this._addToSnapshot(r,t),r.selected!==e.selected&&this._selectItem(r,e.selected);const o=this.items.indexOf(r);e.selected&&o===-1?this.items.push(r):!e.selected&&o!==-1&&this.items.splice(o,1)}),s.filter(r=>!r.leaf).reverse().forEach(r=>{this._addToSnapshot(r,t,{indeterminate:!0}),r[b]=$(r)}),this._addToSnapshot(e,t,{indeterminate:!0}),e[b]=$(e),t}_updateAncestorSelections(e,t=[]){let s=_(e);for(;s;){if(this._addToSnapshot(s,t),s[b]=$(s),!s.indeterminate){const r=y(s)?.selected??!1;s.selected!==r&&this._selectItem(s,r);const o=this.items.indexOf(s);s.selected&&o===-1?this.items.push(s):!s.selected&&o!==-1&&this.items.splice(o,1)}s=_(s)}return t}_addToSnapshot(e,t,s){const n=t.find(r=>r.el===e);if(n){s=s??{indeterminate:!0,open:!0,selected:!0},n.indeterminate=s.indeterminate?e.indeterminate:n.indeterminate,n.open=s.open?e.open:n.open,n.selected=s.selected?e.selected:n.selected;return}t.push({el:e,indeterminate:e.indeterminate,open:e.open,selected:e.selected})}_restoreSnapshot(e){e.forEach(t=>{t.el.open=t.open,t.el[b]=t.indeterminate,this._selectItem(t.el,t.selected)})}_clearIndeterminate(e){(e??x(this.host)).forEach(t=>{t[b]=!1})}_selectItem(e,t){this._itemsBeingToggled.add(e),e.selected=t}}const me=":host{display:block}.forge-tree{--_tree-background: var(--forge-tree-background, var(--forge-theme-primary-container, #d1d5ed));--_tree-color: var(--forge-tree-color, var(--forge-theme-on-primary-container, #222c62));--_tree-transition-duration: var(--forge-tree-transition-duration, var(--forge-animation-duration-short4, .2s));--_tree-transition-timing: var(--forge-tree-transition-timing, var(--forge-animation-easing-standard, cubic-bezier(.2, 0, 0, 1)));--_tree-shape: var(--forge-tree-shape, calc(var(--forge-shape-medium, 4px) * var(--forge-shape-factor, 1)));--_tree-padding: var(--forge-tree-padding, var(--forge-spacing-medium, 16px));--_tree-item-gap: var(--forge-tree-item-gap, var(--forge-spacing-xxxsmall, 2px))}.forge-tree{--_tree-item-check-display: var(--forge-tree-item-check-display, none);--_tree-item-indent-line-display: var(--forge-tree-item-indent-line-display, none);display:flex;flex-direction:column;gap:var(--_tree-item-gap)}.forge-tree.indent-lines{--_tree-item-indent-line-display: var(--forge-tree-item-indent-line-display, block)}.forge-tree.multiple{--_tree-item-check-display: var(--forge-tree-item-check-display, block);--forge-tree-item-selected-background: transparent}.forge-tree .icons{display:none}";var ue=Object.defineProperty,ge=Object.getOwnPropertyDescriptor,v=(i,e,t,s)=>{for(var n=s>1?void 0:s?ge(e,t):e,r=i.length-1,o;r>=0;r--)(o=i[r])&&(n=(s?o(e,t,n):o(n))||n);return s&&n&&ue(e,t,n),n};const W="forge-tree";let u=class extends H{constructor(){super(),this.accordion=!1,this.indentLines=!1,this.mode="single",this.selectionFollowsFocus=!1,this.disabled=!1,this._keyActionController=new X(this,{actions:[{key:["ArrowUp","ArrowDown"],handler:this._handleArrowUpOrDown.bind(this),allowRepeat:!0},{key:"ArrowLeft",handler:this._handleArrowLeft.bind(this),allowRepeat:!0},{key:"ArrowRight",handler:this._handleArrowRight.bind(this),allowRepeat:!0},{key:"Home",handler:this._handleHome.bind(this)},{key:"End",handler:this._handleEnd.bind(this)},{key:"*",handler:this._handleAsterisk.bind(this)},{key:[{key:"a",modifier:"ctrl"},{key:"a",modifier:"meta"}],handler:this._handleA.bind(this)},{key:["Enter"," "],handler:this._handleEnterOrSpace.bind(this)}],searchHandler:this._search.bind(this)}),this._selectionController=new fe(this),this._internals=this.attachInternals(),this._updateContext()}get value(){return this._selectionController.value}set value(i){this._selectionController.value=i}connectedCallback(){super.connectedCallback(),this.tabIndex=0,m(this,this._internals,{role:"tree"}),this.addEventListener("focusin",this._handleFocusIn.bind(this)),this.addEventListener("focusout",this._handleFocusOut.bind(this)),this.addEventListener("forge-tree-item-update",this._handleUpdate.bind(this))}disconnectedCallback(){super.disconnectedCallback(),this._expandIconObserver?.disconnect(),this._collapseIconObserver?.disconnect()}willUpdate(i){i.has("accordion")&&this.accordion&&A(this),i.has("disabled")&&this._setDisabled(),(i.has("disabled")||i.has("indentLines")||i.has("mode"))&&this._updateContext(),i.has("mode")&&(this._setDisabled(),this._setMode(),this._selectionController.cleanup())}render(){return f`
      <div
        part="root"
        class=${F({"forge-tree":!0,"indent-lines":this.indentLines,multiple:this.mode==="multiple"})}
        @click=${this._handleClick}>
        <slot></slot>
        <div class="icons" @slotchange="${this._detectSlottedIcon}">
          <slot name="expand-icon"></slot>
          <slot name="collapse-icon"></slot>
        </div>
      </div>
    `}_updateContext(){this._context={collapseIcon:this._collapseIcon,disabled:this.disabled,expandIcon:this._expandIcon,indentLines:this.indentLines,mode:this.mode}}_handleClick(i){if(!le(i))return;const e=de(i);if(e){if(e.leaf){if(this.mode==="off")return;i.shiftKey&&this._selectionController.extend(e),this._selectionController.toggle(e);return}if(this.mode==="leaf"||this.mode==="off"){this._toggleOpen(e,i.altKey&&e.open);return}if(!e.openDisabled&&ce(i)){this._toggleOpen(e,i.altKey&&e.open);return}i.shiftKey&&this._selectionController.extend(e),this._selectionController.toggle(e)}}_handleArrowUpOrDown(i){const e=p(i);if(!e)return;const t=i.key==="ArrowDown"?S(e):L(e);t&&(i.shiftKey&&this.mode==="multiple"&&this._selectionController.toggle(t,!0),this._focusItem(t))}_handleArrowLeft(i){const e=p(i);if(e){if(!e.open){const t=_(e);t&&this._focusItem(t)}this._toggleOpen(e,!1,!1)}}_handleArrowRight(i){const e=p(i);if(!(!e||e.leaf)){if(e.open){const t=y(e);t&&this._focusItem(t)}this._toggleOpen(e,!1,!0)}}_handleHome(i){const e=p(i);if(!e)return;if(i.shiftKey&&(i.metaKey||i.ctrlKey)&&this.mode==="multiple"){let s=L(e);for(;s;)this._selectionController.toggle(s,!0),s=L(s)}const t=y(this);t&&this._focusItem(t)}_handleEnd(i){const e=p(i);if(!e)return;if(i.shiftKey&&(i.metaKey||i.ctrlKey)&&this.mode==="multiple"){let s=S(e);for(;s;)this._selectionController.toggle(s,!0),s=S(s)}let t=T(this);for(;t&&t.open;)t=T(t);t&&this._focusItem(t)}_handleAsterisk(i){const e=p(i);e&&V(e,!0).forEach(t=>this._toggleOpen(t,!1,!0))}_handleA(){this.mode==="multiple"&&this._selectionController.selectAll()}_handleEnterOrSpace(i){const e=p(i);if(e){if(e.leaf){if(this.mode==="off")return;i.shiftKey&&this._selectionController.extend(e),this._selectionController.toggle(e);return}i.key==="Enter"?this._toggleOpen(e,i.altKey&&e.open):this.mode!=="off"&&this._selectionController.toggle(e)}}_handleFocusIn(i){if(i.target===this){const t=this._lastFocusedItem??y(this);if(!t)return;this._focusItem(t)}const e=i.target;e&&g(e)&&(this._lastFocusedItem&&(this._lastFocusedItem.tabIndex=-1),e.tabIndex=0,this._lastFocusedItem=e,this.tabIndex=-1)}_handleFocusOut(i){const e=i.relatedTarget;(!e||!this.contains(e))&&(this.tabIndex=0)}_handleUpdate(i){if(i.stopPropagation(),i.detail.reason==="opened"){if(!this.accordion)return;const e=p(i);if(!e||!e.open)return;const t=ae(i);A(this),t.forEach(s=>s.open=!0)}}_search(i,e){const t=p(e);if(!t)return;const s=pe(t,i);s&&this._focusItem(s)}_toggleOpen(i,e=!1,t){if(i.openDisabled)return;i.open=t??!i.open,!i.open&&e&&A(i);const s=new CustomEvent(`forge-tree-item-${i.open?"open":"close"}`,{bubbles:!0,composed:!0});i.dispatchEvent(s),s.defaultPrevented}_focusItem(i){i.focus(),this.mode!=="multiple"&&this.selectionFollowsFocus&&this._selectionController.toggle(i,!0)}_detectSlottedIcon(i){const e=i.target,t=e.assignedElements()[0];if(!t){e.name==="expand-icon"?(this._expandIcon=void 0,this._expandIconObserver?.disconnect()):e.name==="collapse-icon"&&(this._collapseIcon=void 0,this._collapseIconObserver?.disconnect()),this._updateContext();return}e.name==="expand-icon"?this._observeIcon(t,"expand"):e.name==="collapse-icon"&&this._observeIcon(t,"collapse")}_observeIcon(i,e){const t=`_${e}IconObserver`;this[t]??=new MutationObserver(()=>this._updateIcon(i,e)),this[t].observe(i,{attributes:!0,subtree:!0,childList:!0,characterData:!0}),this._updateIcon(i,e)}_updateIcon(i,e){const t=i?.cloneNode(!0);[t,...t.querySelectorAll("[id]")].forEach(s=>s.removeAttribute("id")),t.slot=`context-${e}-icon`,this[`_${e}Icon`]=t,this._updateContext()}_setDisabled(){m(this,this._internals,{ariaDisabled:this.disabled?"true":"false"}),w(this._internals,"disabled",this.disabled)}_setMode(){m(this,this._internals,{ariaMultiSelectable:this.mode==="multiple"?"true":"false"})}};u.styles=U(me);v([d({type:Boolean})],u.prototype,"accordion",2);v([d({type:Boolean,attribute:"indent-lines"})],u.prototype,"indentLines",2);v([d({type:String})],u.prototype,"mode",2);v([d({type:Boolean,attribute:"selection-follows-focus"})],u.prototype,"selectionFollowsFocus",2);v([d({type:Boolean})],u.prototype,"disabled",2);v([d({type:Array})],u.prototype,"value",1);v([re({context:W})],u.prototype,"_context",2);u=v([j("forge-tree")],u);const _e=':host{display:block;outline:none}.forge-tree-item{--_tree-item-selected-background: var(--forge-tree-item-selected-background, var(--forge-theme-primary-container-low, #e8eaf6));--_tree-item-min-block-size: var(--forge-tree-item-min-block-size, var(--forge-spacing-xlarge, 32px));--_tree-item-shape: var(--forge-tree-item-shape, calc(var(--forge-shape-medium, 4px) * var(--forge-shape-factor, 1)));--_tree-item-expand-icon-inline-size: var(--forge-tree-item-expand-icon-inline-size, var(--forge-spacing-large, 24px));--_tree-item-padding-inline: var(--forge-tree-item-padding-inline, var(--forge-spacing-xxsmall, 4px));--_tree-item-padding-inline-start: var(--forge-tree-item-padding-inline-start, var(--_tree-item-padding-inline));--_tree-item-padding-inline-end: var(--forge-tree-item-padding-inline-end, var(--_tree-item-padding-inline));--_tree-item-gap: var(--forge-tree-item-gap, var(--forge-spacing-xxxsmall, 2px));--_tree-item-header-inline-gap: var(--forge-tree-item-header-inline-gap, var(--forge-spacing-xsmall, 8px));--_tree-item-indent-size: var(--forge-tree-item-indent-size, var(--forge-spacing-medium, 16px));--_tree-item-indent-line-style: var(--forge-tree-item-indent-line-style, solid);--_tree-item-indent-line-width: var(--forge-tree-item-indent-line-width, var(--forge-border-thin, 1px));--_tree-item-indent-line-color: var(--forge-tree-item-indent-line-color, var(--forge-theme-outline, #e0e0e0));--_tree-item-indent-line-offset: var(--forge-tree-item-indent-line-offset, 11.5px);--_tree-item-disabled-opacity: var(--forge-tree-item-disabled-opacity, .38)}.forge-tree-item{--_tree-item-checkbox-color: var(--forge-tree-item-checkbox-color, var(--forge-theme-text-low))}.forge-tree-item .header{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--forge-typography-body2-font-family, var(--forge-typography-font-family, "Roboto", sans-serif));font-size:var(--forge-typography-body2-font-size, calc(var(--forge-typography-font-size, 1rem) * var(--forge-typography-body-font-size-scale, 1)));font-weight:var(--forge-typography-body2-font-weight, 400);line-height:var(--forge-typography-body2-line-height, calc(var(--forge-typography-font-size, 1rem) * var(--forge-typography-body-line-height-scale, 1.375)));letter-spacing:var(--forge-typography-body2-letter-spacing, .015625em);text-transform:var(--forge-typography-body2-text-transform, inherit);text-decoration:var(--forge-typography-body2-text-decoration, inherit);display:flex;align-items:center;gap:var(--_tree-item-header-inline-gap);position:relative;border-radius:var(--_tree-item-shape);min-block-size:var(--_tree-item-min-block-size);padding-inline-start:calc(var(--_tree-item-indent-size) * var(--_tree-item-level) + var(--_tree-item-padding-inline-start));padding-inline-end:var(--_tree-item-padding-inline-end)}.forge-tree-item .leaf-spacer{inline-size:var(--_tree-item-expand-icon-inline-size)}.forge-tree-item .content{overflow:hidden;margin-inline-end:auto;white-space:nowrap;text-overflow:ellipsis}.forge-tree-item .expand-icon{display:flex;align-items:center;justify-content:center;position:relative;border-radius:var(--_tree-item-shape);inline-size:var(--_tree-item-expand-icon-inline-size);min-block-size:var(--_tree-item-min-block-size)}.forge-tree-item .expand-icon.has-custom-collapse-icon slot[name=expand-icon]{display:none}.forge-tree-item .expand-icon.has-custom-collapse-icon slot[name=collapse-icon]{display:contents}.forge-tree-item .checkbox{--forge-icon-color: var(--_tree-item-checkbox-color);display:var(--_tree-item-check-display)}.forge-tree-item .children{display:flex;flex-direction:column;gap:var(--_tree-item-gap);position:relative;margin-block-start:var(--_tree-item-gap)}.forge-tree-item .children:after{display:var(--_tree-item-indent-line-display);position:absolute;left:calc(var(--_tree-item-indent-size) * var(--_tree-item-level) + var(--_tree-item-indent-line-offset) + var(--_tree-item-padding-inline-start));block-size:100%;inline-size:var(--_tree-item-indent-line-width);border-inline-start-style:var(--_tree-item-indent-line-style);border-inline-start-width:var(--_tree-item-indent-line-width);border-inline-start-color:var(--_tree-item-indent-line-color);pointer-events:none;content:""}.forge-tree-item .children-header,.forge-tree-item .children-footer{position:relative;padding-inline-start:calc(var(--_tree-item-indent-size) * (var(--_tree-item-level) + 1) + var(--_tree-item-padding-inline-start) + var(--_tree-item-expand-icon-inline-size) + var(--_tree-item-header-inline-gap) * 2);padding-inline-end:calc(var(--_tree-item-padding-inline-end) + var(--_tree-item-header-inline-gap))}.forge-tree-item.interactive .header{cursor:pointer}.forge-tree-item.indeterminate{--_tree-item-checkbox-color: var(--forge-tree-item-checkbox-color, var(--forge-theme-tertiary))}.forge-tree-item.disabled .checkbox,.forge-tree-item.disabled .start,.forge-tree-item.disabled .content,.forge-tree-item.disabled .end{opacity:var(--_tree-item-disabled-opacity)}.forge-tree-item.disabled:not(.open-disabled) .expand-icon{cursor:pointer}.forge-tree-item.open-disabled .expand-icon{opacity:var(--_tree-item-disabled-opacity)}:host(:state(leaf)) .children{display:none}:host(:not(:state(open))) .expand-icon slot[name=expand-icon]{display:contents}:host(:not(:state(open))) .expand-icon slot[name=collapse-icon]{display:none}:host(:not(:state(open))) .children{display:none}:host(:state(selected)) .header{--_tree-item-checkbox-color: var(--forge-tree-item-checkbox-color, var(--forge-theme-tertiary));background:var(--_tree-item-selected-background)}:host(:state(selected)) forge-state-layer{--forge-state-layer-color: var(--forge-theme-primary)}:host(:state(indeterminate)) .header{--_tree-item-checkbox-color: var(--forge-tree-item-checkbox-color, var(--forge-theme-tertiary))}:host(:state(indeterminate)) forge-state-layer{--forge-state-layer-color: var(--forge-theme-primary)}forge-focus-indicator{--forge-focus-indicator-shape: var(--_tree-item-shape);z-index:1}.expand-icon forge-circular-progress{--forge-circular-progress-indicator-color: currentColor;--forge-circular-progress-size: 16px;--forge-circular-progress-track-width: 16}';var be=Object.defineProperty,xe=Object.getOwnPropertyDescriptor,l=(i,e,t,s)=>{for(var n=s>1?void 0:s?xe(e,t):e,r=i.length-1,o;r>=0;r--)(o=i[r])&&(n=(s?o(e,t,n):o(n))||n);return s&&n&&be(e,t,n),n},B,M;let a=class extends(M=H,B=b,M){constructor(){super(),this.selected=!1,this.open=!1,this.lazy=!1,this.disabled=!1,this.openDisabled=!1,this[B]=!1,this._level=0,this._leaf=!0,this._loading=!1,this._hasSlottedExpandIcon=!1,this._hasSlottedCollapseIcon=!1,this._checkboxIcon="check_box_outline_blank",this._hasBeenSelected=!1,this._internals=this.attachInternals(),J.define([Y,Z,ee])}get level(){return this._level}get leaf(){return!this._children.length&&!this.lazy}get indeterminate(){return this[b]}connectedCallback(){super.connectedCallback(),m(this,this._internals,{role:"treeitem"}),this.tabIndex=-1,this._level=he(this),this._slotInParent(),this._detectChildren(),this._dispatchUpdate("added")}disconnectedCallback(){super.disconnectedCallback(),this._dispatchUpdate("removed")}willUpdate(i){i.forEach((o,c)=>{switch(c){case"selected":this._setSelected(),this._checkboxIcon=this.indeterminate?"indeterminate_check_box":this.selected?"check_box":"check_box_outline_blank";break;case b:w(this._internals,"indeterminate",this.indeterminate),this._checkboxIcon=this.indeterminate?"indeterminate_check_box":this.selected?"check_box":"check_box_outline_blank";break;case"open":this._setOpen();break;case"lazy":this._loading=this.lazy,this._detectChildren(),this._setOpen();break;case"loading":this._setLoading();break;case"disabled":this._setDisabled();break;case"openDisabled":this._setOpenDisabled();break}});const e="_treeContext",t=i.has(e)&&i.get(e)?.mode!==this._treeContext?.mode,s=i.has(e)&&i.get(e)?.disabled!==this._treeContext?.disabled,n=i.has(e)&&i.get(e)?.expandIcon!==this._treeContext?.expandIcon,r=i.has(e)&&i.get(e)?.collapseIcon!==this._treeContext?.collapseIcon;t&&(this._setDisabled(),this._setMode(),this._setOpen()),n&&this._setIconFromContext("expand"),r&&this._setIconFromContext("collapse"),s&&this._setDisabled()}render(){const i=this.disabled||!!this._treeContext?.disabled,e=this._treeContext?this._treeContext.mode==="off"?!this._leaf&&!this.openDisabled:this._treeContext.mode==="leaf"?this._leaf&&!i||!this._leaf&&!this.openDisabled:!i:!1,t=!e;return f`
      <div
        part="root"
        class=${F({"forge-tree-item":!0,interactive:e,disabled:i,"open-disabled":this.openDisabled})}
        style=${ie({"--_tree-item-level":this.level})}>
        <div part="header" class="header">
          ${this._leaf?f`<span class="leaf-spacer"></span>`:this._expandIconTemplate()}
          ${this._treeContext?.mode==="multiple"?f`<forge-icon id="checkbox" class="checkbox" part="checkbox" .name="${this._checkboxIcon}"></forge-icon>`:D}
          <div class="start">
            <slot name="start"></slot>
          </div>
          <div class="content" part="content">
            <slot></slot>
          </div>
          <div class="end">
            <slot name="end"></slot>
          </div>
          ${t?D:f`<forge-state-layer></forge-state-layer>`}
          <forge-focus-indicator target=":host" focus-mode="focus" inward></forge-focus-indicator>
        </div>
        <div role="group" class="children" part="children">
          <div class="children-header" part="children-header">
            <slot name="children-header"></slot>
          </div>
          <slot name="children" @slotchange="${this._detectChildren}"></slot>
          <div class="children-footer" part="children-footer">
            <slot name="children-footer"></slot>
          </div>
        </div>
      </div>
    `}_expandIconTemplate(){const i=this._treeContext&&this._treeContext.mode!=="leaf"&&this._treeContext.mode!=="off"&&(this.disabled||this._treeContext.disabled)&&!this.openDisabled;if(this._loading)return f`
        <span part="expand-icon" class="expand-icon" aria-hidden="true">
          <forge-circular-progress class="loading" part="loading-indicator"></forge-circular-progress>
        </span>
      `;const e=!this._hasSlottedExpandIcon&&!this._hasSlottedCollapseIcon;return f`
      <span
        part="expand-icon"
        class=${F({"expand-icon":!0,"has-custom-expand-icon":this._hasSlottedExpandIcon,"has-custom-collapse-icon":this._hasSlottedCollapseIcon})}
        aria-hidden="true"
        @slotchange="${this._detectSlottedExpandOrCollapseIcon}">
        ${e?f`<forge-open-icon class="default-expand-icon" orientation="horizontal" rotation="half" .open="${this.open}"></forge-open-icon>`:D}
        <slot name="expand-icon">
          <slot name="context-expand-icon"></slot>
        </slot>
        <slot name="collapse-icon">
          <slot name="context-collapse-icon"></slot>
        </slot>
        ${i?f`<forge-state-layer></forge-state-layer>`:D}
      </span>
    `}_slotInParent(){this.parentElement?.tagName.toLowerCase()==="forge-tree-item"&&(this.slot="children")}_detectChildren(){this._leaf=this.leaf,this._setOpen(),w(this._internals,"leaf",this._leaf)}_detectSlottedExpandOrCollapseIcon(i){const e=i.target,t=e.assignedElements();e.name==="expand-icon"||e.name==="context-expand-icon"?this._hasSlottedExpandIcon=!!t.length:(e.name==="collapse-icon"||e.name==="context-collapse-icon")&&(this._hasSlottedCollapseIcon=!!t.length)}_setIconFromContext(i){if(!this._treeContext)return;Array.from(this.children).filter(s=>s.slot===`context-${i}-icon`).forEach(s=>s.remove());const t=this._treeContext[`${i}Icon`];t&&this.append(t.cloneNode(!0))}_setDisabled(){const i=this.disabled||!!this._treeContext?.disabled;m(this,this._internals,{ariaDisabled:i?"true":"false"}),w(this._internals,"disabled",i)}_setLoading(){m(this,this._internals,{ariaBusy:this._loading?"true":"false"})}_setMode(){m(this,this._internals,{ariaSelected:!this._treeContext||this._treeContext.mode==="off"?null:this.selected?"true":"false"})}_setOpen(){m(this,this._internals,{ariaExpanded:this.leaf||this.openDisabled?null:this.open?"true":"false"}),w(this._internals,"open",!this.leaf&&this.open),this.open&&this._dispatchUpdate("opened")}_setOpenDisabled(){m(this,this._internals,{ariaExpanded:this.leaf||this.openDisabled?null:this.open?"true":"false"})}_setSelected(){!this._hasBeenSelected&&this.selected&&(this._hasBeenSelected=!0),m(this,this._internals,{ariaSelected:!this._treeContext||this._treeContext.mode==="off"?null:this.selected?"true":"false"}),w(this._internals,"selected",this.selected),this._hasBeenSelected&&this._dispatchUpdate(this.selected?"selected":"deselected")}_dispatchUpdate(i){this.dispatchEvent(new CustomEvent("forge-tree-item-update",{bubbles:!0,detail:{reason:i}}))}};a.styles=U(_e);l([d()],a.prototype,"value",2);l([d({type:Boolean})],a.prototype,"selected",2);l([d({type:Boolean})],a.prototype,"open",2);l([d({type:Boolean})],a.prototype,"lazy",2);l([d({type:Boolean})],a.prototype,"disabled",2);l([d({type:Boolean,attribute:"open-disabled"})],a.prototype,"openDisabled",2);l([d({attribute:!1})],a.prototype,B,2);l([I(),oe({context:W,subscribe:!0})],a.prototype,"_treeContext",2);l([I()],a.prototype,"_level",2);l([I()],a.prototype,"_leaf",2);l([I()],a.prototype,"_loading",2);l([I()],a.prototype,"_hasSlottedExpandIcon",2);l([I()],a.prototype,"_hasSlottedCollapseIcon",2);l([I()],a.prototype,"_checkboxIcon",2);l([te({slot:"children",flatten:!0})],a.prototype,"_children",2);a=l([j("forge-tree-item")],a);const R="forge-tree",ve={title:"Components/Tree",render:i=>f`
      <forge-tree .accordion=${i.accordion} .indentLines=${i.indentLines} .mode=${i.mode} .selectionFollowsFocus=${i.selectionFollowsFocus}>
        <forge-tree-item>
          <span>Item 1</span>
          <forge-tree-item>
            <span>Item 1.1</span>
            <forge-tree-item>
              <span>Item 1.1.1</span>
            </forge-tree-item>
            <forge-tree-item>
              <span>Item 1.1.2</span>
            </forge-tree-item>
            <forge-tree-item>
              <span>Item 1.1.3</span>
            </forge-tree-item>
          </forge-tree-item>
          <forge-tree-item>
            <span>Item 1.2</span>
            <forge-tree-item>
              <span>Item 1.2.1</span>
            </forge-tree-item>
            <forge-tree-item>
              <span>Item 1.2.2</span>
            </forge-tree-item>
            <forge-tree-item>
              <span>Item 1.2.3</span>
            </forge-tree-item>
          </forge-tree-item>
        </forge-tree-item>
        <forge-tree-item>
          <span>Item 2</span>
          <forge-tree-item>
            <span>Item 2.1</span>
            <forge-tree-item>
              <span>Item 2.1.1</span>
            </forge-tree-item>
            <forge-tree-item>
              <span>Item 2.1.2</span>
            </forge-tree-item>
            <forge-tree-item>
              <span>Item 2.1.3</span>
            </forge-tree-item>
          </forge-tree-item>
          <forge-tree-item>
            <span>Item 2.2</span>
            <forge-tree-item>
              <span>Item 2.2.1</span>
            </forge-tree-item>
            <forge-tree-item>
              <span>Item 2.2.2</span>
            </forge-tree-item>
            <forge-tree-item>
              <span>Item 2.2.3</span>
            </forge-tree-item>
          </forge-tree-item>
        </forge-tree-item>
        <forge-tree-item>
          <span>Item 3</span>
          <forge-tree-item>
            <span>Item 3.1</span>
            <forge-tree-item>
              <span>Item 3.1.1</span>
            </forge-tree-item>
            <forge-tree-item>
              <span>Item 3.1.2</span>
            </forge-tree-item>
            <forge-tree-item>
              <span>Item 3.1.3</span>
            </forge-tree-item>
          </forge-tree-item>
          <forge-tree-item>
            <span>Item 3.2</span>
            <forge-tree-item>
              <span>Item 3.2.1</span>
            </forge-tree-item>
            <forge-tree-item>
              <span>Item 3.2.2</span>
            </forge-tree-item>
            <forge-tree-item>
              <span>Item 3.2.3</span>
            </forge-tree-item>
          </forge-tree-item>
        </forge-tree-item>
      </forge-tree>
    `,component:R,argTypes:{...Q({tagName:R,controls:{accordion:{control:{type:"boolean"}},indentLines:{control:{type:"boolean"}},mode:{control:{type:"select",options:["single","multiple","leaf","off"]}},selectionFollowsFocus:{control:{type:"boolean"}},value:{control:{type:"text"}}}})},args:{accordion:!1,indentLines:!1,mode:"single",selectionFollowsFocus:!1,value:""}},E={};E.parameters={...E.parameters,docs:{...E.parameters?.docs,source:{originalSource:"{}",...E.parameters?.docs?.source}}};const ye=["Demo"],Ke=Object.freeze(Object.defineProperty({__proto__:null,Demo:E,__namedExportsOrder:ye,default:ve},Symbol.toStringTag,{value:"Module"}));export{E as D,Ke as T};
