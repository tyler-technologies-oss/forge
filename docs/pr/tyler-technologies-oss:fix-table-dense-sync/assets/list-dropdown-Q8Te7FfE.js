import{Q as D,R,S as U,I as $}from"./icon-kuXwuZAY.js";import{A as j,j as S,B as z,h as W,C as M,D as L,d as P,r as G,a as q,E as B,F as K}from"./feature-detection-B-sRDmdg.js";import{g as X}from"./event-utils-C1SDeUaq.js";import{S as y,e as O}from"./service-adapter-CffG5Lhq.js";import{I as Q,n as Y,l as N}from"./constants-DzQy6WDX.js";import{L as J}from"./linear-progress-r0Hzg69v.js";import{b as Z,c as tt}from"./list-C8Hawtvv.js";import{a as b}from"./popover-BWVazmya.js";import"./overlay-B5pGv-rV.js";import"./index-5CPwzmQS.js";import{S as et}from"./skeleton-BSiuL_ME.js";import{c as it}from"./a11y-BxM9_46k.js";class st{constructor(){this._listenerMap=new Map}_emit(t,e){const s=this._listenerMap.get(t);s&&s.length&&s.forEach(o=>o({type:t,data:e}))}hasListeners(t){return t?this._listenerMap.has(t):this._listenerMap.size>0}addListener(t,e){if(!this._listenerMap.has(t))this._listenerMap.set(t,[e]);else{const s=this._listenerMap.get(t);s&&s.push(e)}}removeListener(t,e){const s=this._listenerMap.get(t);s&&s.length&&s.includes(e)&&(s.splice(s.indexOf(e),1),s.length||this._listenerMap.delete(t))}}const nt=100;class ot extends st{constructor(t,e={}){super(),this._element=t,this._config=e,this._axis="vertical",this._scrollThreshold=0,this._lastScrollPosition=0,this._lastScrollTop=0,this._lastScrollLeft=0,this._isListening=!1,this._initialize()}destroy(){this.stop()}start(){this._isListening||(this._element.addEventListener("scroll",this._scrollListener),this._isListening=!0)}stop(){this._element.removeEventListener("scroll",this._scrollListener),this._isListening=!1}_initialize(){if(this._config.throttle){const t=this._config.throttleTime||nt;this._scrollListener=j(()=>this._onScroll(),t)}else this._scrollListener=()=>this._onScroll();(!S(this._config.paused)||!this._config.paused)&&this.start(),S(this._config.axis)&&(this._axis=this._config.axis),S(this._config.scrollThreshold)&&z(this._config.scrollThreshold)&&(this._scrollThreshold=this._config.scrollThreshold)}_isScrollAxis(){const t=this._lastScrollTop!==this._element.scrollTop,e=this._lastScrollLeft!==this._element.scrollLeft;return this._axis==="vertical"&&t||this._axis==="horizontal"&&e}_onScroll(){if(!this._isScrollAxis())return;const t=this.scrollPosition,e=this._lastScrollPosition-t<0?this._axis==="vertical"?y.Down:y.Right:this._axis==="vertical"?y.Up:y.Left;this._emit(O.Scroll,{direction:e,position:t}),this._lastScrollPosition<=this._scrollThreshold&&t>this._scrollThreshold?this._emit(O.Scrolled,!0):this._lastScrollPosition>=this._scrollThreshold&&(this._scrollThreshold>0?t<this._scrollThreshold:t===0)&&this._emit(O.Scrolled,!1);const s=Math.round(t-this._scrollThreshold),o=Math.round(this.scrollSize-t);this._lastScrollPosition>=this._scrollThreshold&&s<=0?this._emit(O.ScrolledStart):this._lastScrollPosition<=this.scrollSize-this._scrollThreshold&&o<=this._scrollThreshold&&this._emit(O.ScrolledEnd),this._lastScrollPosition=t||0,this._lastScrollTop=this._element.scrollTop||0,this._lastScrollLeft=this._element.scrollLeft||0}get scrollPosition(){return this._axis==="vertical"?this._element.scrollTop:this._element.scrollLeft}get isScrolled(){return this.scrollPosition>this._scrollThreshold}get isScrolledStart(){return this.scrollPosition===0}get isScrolledEnd(){return this.scrollPosition===this._element.scrollWidth}get isScrollable(){return this._axis==="vertical"?this._element.scrollHeight>this._element.clientHeight:this._element.scrollWidth>this._element.clientWidth}get scrollSize(){return(this._axis==="vertical"?this._element.scrollHeight:this._element.scrollWidth)-this.elementSize}get elementSize(){return this._axis==="vertical"?this._element.clientHeight:this._element.clientWidth}setScrollPosition(t){this._axis==="vertical"?this._element.scrollTop=t:this._element.scrollLeft=t}}const lt={POPUP_CLASSES:"popup-classes",OPTION_LIMIT:"option-limit",OBSERVE_SCROLL:"observe-scroll",OBSERVE_SCROLL_THRESHOLD:"observe-scroll-threshold",SYNC_POPUP_WIDTH:"sync-popup-width",CONSTRAIN_POPUP_WIDTH:"constrain-popup-width",WRAP_OPTION_TEXT:"wrap-option-text",POPOVER_PLACEMENT:"popover-placement",POPOVER_OFFSET:"popover-offset",POPOVER_FLIP:"popover-flip",POPOVER_SHIFT:"popover-shift"},rt={CHECKBOX_ELEMENT:"data-list-dropdown-checkbox",DATA_ALLOW_FOCUS:"data-list-dropdown-allow-focus"},at={GROUP_WRAPPER:"forge-list-dropdown__group-wrapper"},ct={VALUE:"__forge_select_all__",LABEL:"Select All"},f={observedAttributes:lt,attributes:rt,classes:at,selectAllOption:ct},dt={options:[],syncWidth:!1,selectedValues:[],multiple:!1};var E=(i=>(i.None="none",i.Standard="standard",i.Menu="menu",i))(E||{}),k=(i=>(i.Spinner="spinner",i.Skeleton="skeleton",i))(k||{}),ht=(i=>(i[i.Option=0]="Option",i[i.Group=1]="Group",i))(ht||{});function pt(i,t){const e=mt(i,t),s=`list-dropdown-popup-${i.id}`;return e.addEventListener("mousedown",o=>{const r=X(o);if(r.find(_=>_.nodeType===1&&_.hasAttribute(f.attributes.DATA_ALLOW_FOCUS)))return;r.find(_=>_.id===s||_.id===i.id)&&o.preventDefault()}),i.id&&(e.id=s),i.popupClasses&&W(i.popupClasses,e),e}function mt(i,t){const e=document.createElement("forge-popover");return e.anchorElement=t,e.placement=i.popupPlacement||"bottom-start",e.persistent=!!i.popupStatic,e.triggerType="manual",i.popupFallbackPlacements?.length&&(e.fallbackPlacements=i.popupFallbackPlacements),i.constrainViewportWidth&&e.setAttribute(b.attributes.CONSTRAIN_VIEWPORT_WIDTH,""),i.popupOffset&&(e.offset=i.popupOffset),i.popupFlip&&(e.flip=i.popupFlip),i.popupShift!==void 0&&(e.shift=i.popupShift),i.type===E.None&&(e.animationType="none"),e}function _t(i){const t=document.createElement(Z.elementName);switch(t.id=`list-dropdown-list-${i.id}`,i.type){case E.Menu:t.setAttribute("role","menu"),t.setAttribute("aria-orientation","vertical");break;default:t.setAttribute("role","listbox")}return i.type!==E.Menu&&i.multiple&&t.setAttribute("aria-multiselectable","true"),i?.referenceElement?.id&&t.setAttribute("aria-labelledby",i.referenceElement.id),t}function C(i,t,e,s=0,o=!0){let r=e||i.options;if(i.showSelectAll&&i.multiple&&s===0){const p={value:f.selectAllOption.VALUE,label:i.selectAllLabel||f.selectAllOption.LABEL},g={value:"",label:"",divider:!0};if(T(r,1)){const n=r;n.length>0?(n[0]={...n[0],options:[p,g,...n[0].options]},r=n):r=[{text:"",options:[p,g]}]}else r=[p,g,...r]}const d=vt(r),m=F(d),_=!!i.optionLimit;let H=i.optionLimit||0,I=s;for(const p of d){let g=t;if(p.builder&&typeof p.builder=="function"){const n=p.builder(p);if(n){const c=document.createElement("div");c.classList.add(f.classes.GROUP_WRAPPER),g=c,typeof n=="string"?c.innerHTML=n:n instanceof HTMLElement&&c.appendChild(n),t.appendChild(c)}}else if(p.text){const n=document.createElement("div");n.classList.add(f.classes.GROUP_WRAPPER);const c=document.createElement("div");c.textContent=p.text,c.classList.add("forge-typography--overline"),c.style.fontFamily="Roboto,sans-serif",c.style.fontSize="0.75rem",c.style.lineHeight="2rem",c.style.letterSpacing="0.16667em",c.style.fontWeight="500",c.style.margin="4px 8px",g=n,n.appendChild(c),t.appendChild(n)}for(const n of p.options){if(n.divider){const l=ut();t.appendChild(l);continue}if(_&&--H<0)break;const c=i.selectedValues?i.selectedValues.some(l=>M(l,n.value)):!1;if(!o&&c)continue;let a=document.createElement("forge-list-item");a.value=n.value,a.focusPropagation="off",a.setAttribute("role","presentation");const h=document.createElement("button");if(h.type="button",h.id=`list-dropdown-option-${i.id}-${I++}`,h.setAttribute("role",i.type==="menu"?"menuitem":"option"),a.appendChild(h),i.wrapOptionText&&(a.wrap=!0),n.optionClass&&(typeof n.optionClass=="string"||Array.isArray(n.optionClass)&&n.optionClass.length)&&W(n.optionClass,a),i.dense&&(a.dense=!0),i.optionBuilder&&typeof i.optionBuilder=="function"){const l=i.optionBuilder(n,a);l&&(typeof l=="string"?h.innerHTML=l:h.appendChild(l))}else if(typeof i.transform!="function")h.textContent=n.label||"";else{const l=i.transform(n.label);typeof l=="string"?h.textContent=l:typeof l=="object"&&l.nodeType!==void 0&&h.appendChild(l)}if(n.tooltip){const{text:l,type:v="presentation",...w}=n.tooltip,u=document.createElement("forge-tooltip");if(u.id=`list-dropdown-option-${i.id}-${I++}-tooltip`,u.textContent=n.tooltip.text,!n.tooltip.anchor&&!n.tooltip.anchorElement&&(u.anchorElement=a),v==="label"||v==="description"){const A=v==="label"?"aria-labelledby":"aria-describedby";h.setAttribute(A,u.id)}Object.assign(u,w),a.appendChild(u)}if(n.secondaryLabel){const l=document.createElement("span");l.slot="secondary-text",l.textContent=n.secondaryLabel,l.id=`list-dropdown-option-${i.id}-${I++}-secondary`,a.twoLine=!0,a.appendChild(l),h.setAttribute("aria-describedby",l.id)}if(i.multiple){const l=x(c);a.appendChild(l),n.disabled||h.setAttribute("aria-selected",`${c}`),h.setAttribute("aria-checked",`${c}`)}if(n.elementAttributes&&n.elementAttributes.forEach((l,v)=>{a.setAttribute(v,l)}),n.leadingBuilder){const l=n.leadingBuilder();L(l)&&(l.slot="leading",a.appendChild(l))}else if(n.leadingIcon){const l=V(n.leadingIconType,n.leadingIcon,n.leadingIconClass||i.iconClass,n.leadingIconComponentProps);l.slot="leading",a.appendChild(l)}if(n.trailingBuilder){const l=n.trailingBuilder();L(l)&&(l.slot="trailing",a.appendChild(l))}else if(n.trailingIcon){const l=V(n.trailingIconType,n.trailingIcon,n.trailingIconClass||i.iconClass,n.trailingIconComponentProps);l.slot="trailing",a.appendChild(l)}if(n.disabled&&(h.disabled=n.disabled),c&&(a.selected=!0),i.type!==E.Menu&&h.setAttribute("aria-selected",c?"true":"false"),!n.disabled&&typeof i.cascadingElementFactory=="function"&&Array.isArray(n.options)&&n.options.length){const l=document.createElement("forge-icon");l.name="arrow_right_alt",l.slot="trailing",a.appendChild(l);const w={index:m.filter(A=>!A.divider).indexOf(n),options:n.options,parentValue:n.value},u=i.cascadingElementFactory.call(null,w);u.appendChild(a),a=u}g.appendChild(a)}}}function x(i){const t=document.createElement("forge-icon");return t.setAttribute(f.attributes.CHECKBOX_ELEMENT,""),t.name=i?D.name:R.name,t.slot="leading",t.style.marginRight="16px",t.style.verticalAlign="middle",t}function ut(){return document.createElement("forge-divider")}function V(i="font",t,e,s){if(i==="component"){const r=document.createElement("forge-icon");return e&&r.classList.add(e),r.setAttribute("aria-hidden","true"),r.name=t,s&&Object.assign(r,s),r}const o=document.createElement("i");return o.classList.add(e||Q),o.setAttribute("aria-hidden","true"),o.textContent=t,o}function ft(i){switch(i){case k.Skeleton:return gt();default:return Et()}}function Et(){const i=document.createElement("div");i.style.display="flex",i.style.justifyContent="center",i.style.alignItems="center",i.style.padding="8px",i.style.boxSizing="border-box";const t=document.createElement("forge-circular-progress");return t.style.setProperty("--forge-circular-progress-size","24px"),i.appendChild(t),i}function gt(){const i=document.createElement("forge-list"),t=document.createElement("div");t.style.minWidth="192px";for(let e=0;e<3;e++){const s=document.createElement(et.elementName);s.setAttribute("list-item",""),t.appendChild(s)}return i.appendChild(t),i}function Ot(){const i=document.createElement(J.elementName);return i.determinate=!1,i.style.position="absolute",i.style.top="0",i.style.left="0",i.style.right="0",i.style.width="100%",i}function vt(i){return T(i,1)?i:[{text:"",options:i}]}function T(i,t){const e=i.some(o=>S(o)&&L(o)&&Object.prototype.hasOwnProperty.call(o,"options")&&(Object.prototype.hasOwnProperty.call(o,"text")||Object.prototype.hasOwnProperty.call(o,"builder"))),s=i.some(o=>S(o)&&L(o)&&Object.prototype.hasOwnProperty.call(o,"label")&&Object.prototype.hasOwnProperty.call(o,"value"));return e&&t===1||s&&t===0}function F(i){return T(i,1)?i.reduce((e,s)=>e.concat(s.options),[]):[...i]}class bt{constructor(t,e){this._adapter=t,this._open=!1,this._config=Object.assign({...dt},{...e}),this._selectListener=(s,o)=>this._onSelect(s,o),this._closeListener=()=>{typeof this._config.closeCallback=="function"&&this._config.closeCallback()},this._scrollEndListener=()=>{this._config.observeScroll&&typeof this._config.scrollEndListener=="function"&&this._config.scrollEndListener()}}destroy(){this._adapter.remove()}open(){this._open||(this._open=!0,this._adapter.open(this._config,this._selectListener,this._closeListener),window.requestAnimationFrame(()=>{this._open&&this.activateInitialOption()}),this._config.observeScroll&&this._config.scrollEndListener&&this._adapter.setScrollBottomListener(this._scrollEndListener,this._config.observeScrollThreshold||0))}async close(){this._open&&(this._open=!1,this._config.observeScroll&&this._config.scrollEndListener&&this._adapter.removeScrollBottomListener(this._scrollEndListener),await this._adapter.close())}_onSelect(t,e){if(typeof this._config.activeChangeCallback=="function"&&this._config.activeChangeCallback(e),typeof this._config.selectCallback=="function"&&this._config.selectCallback(t),this._open){const s=this._config.syncWidth===void 0;this._adapter.syncWidth(s)}}getActiveOptionIndex(){return this._adapter.getActiveOptionIndex()}getActiveOption(){const t=this.getActiveOptionIndex();return t>=0?this._nonDividerOptions[t]:void 0}toggleOptionMultiple(t,e){return this._adapter.toggleOptionMultiple(t,e)}activateSelectedOption(){this._adapter.activateSelectedOption(this._config)}activateFirstOption(){const t=this._nonDividerOptions.findIndex(e=>!e.disabled);return t!==-1&&this.activateOption(t),t}activateLastOption(){const t=this._nonDividerOptions,e=t.length-1-t.findIndex(s=>!s.disabled);return e!==-1&&this.activateOption(e),e}activateOption(t,e){return this._adapter.activateOption(t,this._config.activeChangeCallback,e)}activateInitialOption(){typeof this._config.activeStartIndex=="number"&&this._nonDividerOptions[this._config.activeStartIndex]?(this.activateOption(this._config.activeStartIndex,!1),this._adapter.scrollSelectedOptionIntoView(!1)):this._config.selectedValues&&this._config.selectedValues.length?this._adapter.scrollSelectedOptionIntoView(!1):typeof this._config.visibleStartIndex=="number"&&this._nonDividerOptions[this._config.visibleStartIndex]&&this._adapter.scrollOptionIntoView(this._config.visibleStartIndex)}setSelectedValues(t){Array.isArray(t)||(t=[t]),!this._config.multiple&&t.length>1&&(t=[t[0]]),this._config.selectedValues=t,this._adapter.setSelectedValues(t,this._config.multiple)}clearActiveOption(){this._adapter.clearActiveOption()}setOptions(t){this._config.options=t,this._open&&(this._adapter.setOptions(this._config),this.activateInitialOption())}appendOptions(t){this._config.options=[...this._config.options,...t],this._open&&this._adapter.appendOptions(t,this._config)}get dropdownElement(){return this._adapter.dropdownElement}scrollSelectedOptionIntoView(t=!0){this._adapter.scrollSelectedOptionIntoView(t)}setScrollBottomListener(t,e){this._config.scrollEndListener=t,this._config.observeScroll=!0,this._config.observeScrollThreshold=e,this._adapter.setScrollBottomListener(this._scrollEndListener,this._config.observeScrollThreshold||0)}removeScrollBottomListener(){this._config.scrollEndListener=void 0,this._adapter.removeScrollBottomListener(this._scrollEndListener)}setBusyVisibility(t){this._config.allowBusy&&this._adapter.setBusyVisibility(t)}handleKey(t){switch(t){case"Enter":case"NumpadEnter":{const e=this.getActiveOptionIndex(),s=this._nonDividerOptions[e];if(this._canSelectOption(s)){const o=this._adapter.getActiveOptionIdByIndex(e);o&&this._onSelect(s.value,o)}break}case"Up":case"ArrowUp":case"Down":case"ArrowDown":{const e=this._nonDividerOptions;if(e.length&&e.every(o=>!this._canSelectOption(o)))return;const s=this._getNextActiveOptionIndex(t);this.activateOption(s);break}case"Home":this.activateFirstOption();break;case"End":this.activateLastOption();break}}_canSelectOption(t){return t&&!t.disabled&&!t.divider}_getNextActiveOptionIndex(t){let e=this._adapter.getActiveOptionIndex();return e===-1&&(e=this._adapter.getSelectedOptionIndex()),t==="ArrowUp"||t==="Up"?this._getPreviousHighlightableOptionIndex(e,this._nonDividerOptions):this._getNextHighlightableOptionIndex(e,this._nonDividerOptions)}_getPreviousHighlightableOptionIndex(t,e){const s=t<=0?e.length-1:t-1;return e[s].disabled?this._getPreviousHighlightableOptionIndex(s,e):s}_getNextHighlightableOptionIndex(t,e){const s=t===e.length-1?0:t+1;return e[s].disabled?this._getNextHighlightableOptionIndex(s,e):s}get _flatOptions(){return F(this._config.options)}get _nonDividerOptions(){return this._flatOptions.filter(t=>!t.divider)}}class St{constructor(t){this._targetElement=t}get dropdownElement(){return this._dropdownElement}open(t,e,s){this._dropdownElement=pt(t,this._targetElement),t.type!==E.None&&t.type!==E.Menu?this._dropdownElement.preset="dropdown":t.type===E.Menu&&(this._dropdownElement.preset="list"),t.allowBusy&&(this._busyElement=Ot(),this._busyElement.style.display="none",this._dropdownElement.appendChild(this._busyElement)),t.headerBuilder&&(this._headerElement=t.headerBuilder(),this._headerElement&&this._headerElement.setAttribute(f.attributes.DATA_ALLOW_FOCUS,"")),t.footerBuilder&&(this._footerElement=t.footerBuilder(),this._footerElement&&this._footerElement.setAttribute(f.attributes.DATA_ALLOW_FOCUS,"")),this._listElement=_t(t),this.syncWidth(!!t.syncWidth,t.targetWidthCallback),this._listElement.addEventListener("forge-list-item-select",d=>{const _=d.target.querySelector("button");_.setAttribute("aria-selected","true"),e(d.detail.value,_.id)}),t.options.length?(C(t,this._listElement),this._dropdownElement.appendChild(this._listElement),this._headerElement&&this._dropdownElement.insertAdjacentElement("afterbegin",this._headerElement),this._footerElement&&this._dropdownElement.appendChild(this._footerElement)):t.allowBusy&&(this._asyncElement=ft(t.asyncStyle),this._dropdownElement.appendChild(this._asyncElement)),this._announcerElement=it(),this._announcerElement.id=`${t.id}-activedescendant`,this._dropdownElement.appendChild(this._announcerElement);const o=this._targetElement.ownerDocument??document;(Y(b.selectors.HOST,this._targetElement)??o.body).appendChild(this._dropdownElement),this._dropdownElement.setAttribute(b.attributes.HOST,""),this._dropdownElement.open=!0}async close(){this._dropdownElement&&(await this._dropdownElement.hideAsync(),this.remove())}remove(){this._dropdownElement?.remove(),this._dropdownElement=void 0,this._listElement=void 0,this._announcerElement=void 0}setScrollBottomListener(t,e){if(this._dropdownElement&&!this._scrollObserver){const s={scrollThreshold:e},o=N(this._dropdownElement,b.selectors.SURFACE);this._scrollObserver=new ot(o,s),this._scrollObserver.addListener(O.ScrolledEnd,t)}}removeScrollBottomListener(t){this._scrollObserver&&this._scrollObserver.removeListener(O.ScrolledEnd,t)}getActiveOptionIndex(){if(!this._dropdownElement)return-1;const t=this._getListItemElements(),e=[...t].reverse().find(s=>s.active);return e?t.indexOf(e):-1}getSelectedOptionIndex(){return this._getListItemElements().findIndex(e=>e.selected)}getActiveOptionIdByIndex(t){if(!this._dropdownElement)return null;const o=this._getListItemElements()[t]?.querySelector("button");return o?o.id:null}toggleOptionMultiple(t,e){if(!this._dropdownElement)return;const s=this._getListItemElements();s.length&&s[t]&&this._toggleSelectedOption(s[t],e)}scrollOptionIntoView(t,e=!0){const s=this._getListItemElements()[t];s&&this._scrollListItemIntoView(s,e?"smooth":"auto","center")}scrollSelectedOptionIntoView(t=!0){const e=this._getSelectedListItem();this._scrollListItemIntoView(e,t?"smooth":"auto","center")}activateSelectedOption(t){const e=this._getListItemElements();e.length&&e.filter(r=>r.active).forEach(r=>r.active=!1);const s=this._getSelectedListItem();s&&this._activateListOption(s,t.activeChangeCallback)}activateOption(t,e,s=!0){if(!this._dropdownElement)return;const o=this._getListItemElements();o.length&&(o.filter(d=>d.active).forEach(d=>d.active=!1),this._activateListOption(o[t],e),this._scrollListItemIntoView(o[t],s?"smooth":"auto"))}setSelectedValues(t,e=!1){if(!this._dropdownElement)return;const s=this._getListItemElements();for(const o of s){const r=t.some(d=>M(d,o.value));if(o.selected=r,e){const d=o.querySelector(`[${f.attributes.CHECKBOX_ELEMENT}]`);if(d){const m=x(r);P(m,d)}}}}clearActiveOption(){this._getListItemElements().forEach(e=>e.active=!1)}async syncWidth(t,e){const s=t?"--forge-popover-width":"--forge-popover-min-width",o=this._getTargetElementWidth(e);this._dropdownElement?.style.setProperty(s,`${o}px`),this._listElement?.style.setProperty("min-width",`calc(${o}px - var(--forge-scrollbar-width, 16px))`)}setOptions(t){!this._dropdownElement||!this._listElement||(this._asyncElement&&this._asyncElement.isConnected&&G(this._asyncElement),this._busyElement&&(this._busyElement.style.display="none"),this._listElement.isConnected||this._dropdownElement.appendChild(this._listElement),q(this._listElement),C(t,this._listElement),this._headerElement&&!this._headerElement.isConnected&&this._dropdownElement.insertAdjacentElement("afterbegin",this._headerElement),this._footerElement&&!this._footerElement.isConnected&&this._dropdownElement.insertAdjacentElement("beforeend",this._footerElement),"position"in this._dropdownElement&&typeof this._dropdownElement.position=="function"&&this._dropdownElement.position())}appendOptions(t,e){!this._dropdownElement||!this._listElement||C(e,this._listElement,t,this._listElement.childElementCount,!1)}setBusyVisibility(t){this._dropdownElement&&(t?this._busyElement.style.removeProperty("display"):this._busyElement.style.display="none")}getScreenWidth(){return window.innerWidth}_getListItemElements(){return this._dropdownElement?Array.from(this._dropdownElement.querySelectorAll(tt.elementName)):[]}_toggleSelectedOption(t,e){if(!this._dropdownElement)return;const s=this._getListItemElements();s.length&&s.filter(m=>m!==t&&m.active).forEach(m=>m.active=!1),t.selected=e;const o=t.querySelector("button");o.setAttribute("aria-selected",`${e}`),o.setAttribute("aria-checked",`${e}`);const r=t.querySelector(`${U.elementName}[slot=leading]`);if(r){const d=x(e);P(d,r)}}_getTargetElementWidth(t){return t&&B(t)?t():this._targetElement.getBoundingClientRect().width}_activateListOption(t,e){const s=t?.querySelector("button");t&&s&&!s.disabled&&(t.active=!0,e&&B(e)&&e(s.id))}_scrollListItemIntoView(t,e="auto",s="nearest"){if(t&&this._dropdownElement&&this._dropdownElement.isConnected){const o=N(this._dropdownElement,b.selectors.SURFACE);o&&K(o,t,e,s)}}_getSelectedListItem(){return this._getListItemElements().find(e=>e.selected)}}class Dt{constructor(t,e){this._targetElement=t,$.define([D,R]),this._core=new bt(new St(this._targetElement),e)}destroy(){this._core.destroy()}open(){this._core.open()}close(){return this._core.close()}getActiveOptionIndex(){return this._core.getActiveOptionIndex()}getActiveOption(){return this._core.getActiveOption()}toggleOptionMultiple(t,e){return this._core.toggleOptionMultiple(t,e)}activateSelectedOption(){this._core.activateSelectedOption()}activateFirstOption(){return this._core.activateFirstOption()}activateOption(t){return this._core.activateOption(t)}activateInitialOption(){return this._core.activateInitialOption()}clearActiveOption(){this._core.clearActiveOption()}setSelectedValues(t){return this._core.setSelectedValues(t)}get dropdownElement(){return this._core.dropdownElement}setOptions(t){this._core.setOptions(t)}appendOptions(t){this._core.appendOptions(t)}scrollSelectedOptionIntoView(t){this._core.scrollSelectedOptionIntoView()}setScrollBottomListener(t,e){this._core.setScrollBottomListener(t,e)}removeScrollBottomListener(){this._core.removeScrollBottomListener()}setBusyVisibility(t){this._core.setBusyVisibility(t)}handleKey(t){this._core.handleKey(t)}}export{f as L,Dt as a,ht as b,k as c,E as d,T as i};
